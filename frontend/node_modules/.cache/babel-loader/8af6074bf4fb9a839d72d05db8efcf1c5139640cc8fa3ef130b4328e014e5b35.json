{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\StockSentimentAnalysis\\\\frontend\\\\src\\\\components\\\\StockChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport { useTheme } from './ui/ThemeProvider';\nimport LiveFeed from './LiveFeed'; // Import LiveFeed component\n\n// Register ChartJS components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\nconst StockChart = () => {\n  _s();\n  const [symbol, setSymbol] = useState('');\n  const [marketData, setMarketData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    theme\n  } = useTheme();\n\n  // New state for selected data point\n  const [selectedDateData, setSelectedDateData] = useState(null);\n\n  // New state to manage dataset visibility\n  const [datasetVisibility, setDatasetVisibility] = useState({\n    'Close Price': true,\n    'Open Price': true,\n    'High': false,\n    // Initially hidden\n    'Low': false // Initially hidden\n    // Volume is not a line dataset in this chart, so not included here for toggling\n  });\n\n  // Popular stocks for quick selection\n  const popularStocks = [{\n    symbol: 'AAPL',\n    name: 'Apple'\n  }, {\n    symbol: 'MSFT',\n    name: 'Microsoft'\n  }, {\n    symbol: 'GOOGL',\n    name: 'Google'\n  }, {\n    symbol: 'AMZN',\n    name: 'Amazon'\n  }, {\n    symbol: 'TSLA',\n    name: 'Tesla'\n  }];\n  const [popularStockDetails, setPopularStockDetails] = useState([]);\n  const [popularStocksLoading, setPopularStocksLoading] = useState(false);\n  const [popularStocksError, setPopularStocksError] = useState(null);\n\n  // News and Analyst Ratings state\n  const [analystRatings, setAnalystRatings] = useState([]);\n  const [headlines, setHeadlines] = useState([]);\n  const [newsLoading, setNewsLoading] = useState(true);\n  const [newsError, setNewsError] = useState(null);\n\n  // Determine if using dark mode\n  const isDarkMode = theme === 'dark' || theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches;\n\n  // Theme-based colors\n  const colors = {\n    text: isDarkMode ? '#e4e4e7' : '#212529',\n    mutedText: isDarkMode ? '#a1a1aa' : '#6c757d',\n    background: isDarkMode ? '#18181b' : '#fff',\n    cardBackground: isDarkMode ? '#1a1a1a' : '#fff',\n    cardHeaderBackground: isDarkMode ? '#1a1a1a' : '#f8f9fa',\n    border: isDarkMode ? '#3f3f46' : '#e9ecef',\n    primary: '#007bff',\n    primaryDark: '#0056b3',\n    buttonText: '#fff',\n    dangerText: isDarkMode ? '#f87171' : '#dc3545',\n    successText: isDarkMode ? '#4ade80' : '#198754',\n    chartClose: '#28a745',\n    chartOpen: '#007bff',\n    chartHigh: '#ffc107',\n    chartLow: '#dc3545'\n  };\n\n  // Function to fetch analyst ratings\n  const fetchAnalystRatings = async () => {\n    try {\n      const response = await axios.get('/api/analyst-ratings/5');\n      if (response.data && response.data.success && response.data.data) {\n        setAnalystRatings(response.data.data);\n      }\n    } catch (err) {\n      console.error('Error fetching analyst ratings:', err);\n      setNewsError('Failed to fetch analyst ratings');\n    }\n  };\n\n  // Function to fetch headlines\n  const fetchHeadlines = async () => {\n    try {\n      const response = await axios.get('/api/headlines/5');\n      if (response.data && response.data.success && response.data.data) {\n        setHeadlines(response.data.data);\n      }\n    } catch (err) {\n      console.error('Error fetching headlines:', err);\n      setNewsError('Failed to fetch headlines');\n    } finally {\n      setNewsLoading(false);\n    }\n  };\n\n  // Format date for display\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n  useEffect(() => {\n    const fetchPopularStockDetails = async () => {\n      setPopularStocksLoading(true);\n      setPopularStocksError(null);\n      const detailsPromises = popularStocks.map(async stock => {\n        try {\n          const response = await axios.get(`/api/stock-data/${stock.symbol.toUpperCase()}`);\n          if (response.data && response.data.data && response.data.data.length > 0) {\n            const stockData = response.data.data;\n            const latestEntry = stockData[stockData.length - 1];\n            const currentPrice = parseFloat(latestEntry.close);\n            let change = null;\n            let percentChange = null;\n            let isPositive = null;\n            if (stockData.length > 1) {\n              const previousEntry = stockData[stockData.length - 2];\n              const previousClose = parseFloat(previousEntry.close);\n              if (previousClose !== 0) {\n                change = currentPrice - previousClose;\n                percentChange = change / previousClose * 100;\n              }\n            } else if (stockData.length === 1) {\n              const openPrice = parseFloat(latestEntry.open);\n              if (latestEntry.open !== undefined && openPrice !== 0) {\n                change = currentPrice - openPrice;\n                percentChange = change / openPrice * 100;\n              }\n            }\n            if (change !== null) {\n              isPositive = change >= 0;\n            }\n            return {\n              ...stock,\n              currentPrice,\n              change,\n              percentChange,\n              isPositive,\n              error: false\n            };\n          } else {\n            return {\n              ...stock,\n              currentPrice: null,\n              change: null,\n              percentChange: null,\n              error: 'No data returned'\n            };\n          }\n        } catch (err) {\n          console.error(`Failed to fetch data for ${stock.symbol}`, err);\n          return {\n            ...stock,\n            currentPrice: null,\n            change: null,\n            percentChange: null,\n            error: true\n          };\n        }\n      });\n      const results = await Promise.all(detailsPromises);\n      setPopularStockDetails(results);\n      setPopularStocksLoading(false);\n    };\n\n    // Initial fetch for all data\n    fetchPopularStockDetails();\n    fetchHeadlines();\n    fetchAnalystRatings();\n\n    // Set up interval to fetch news and ratings every 8 seconds\n    const intervalId = setInterval(() => {\n      fetchHeadlines();\n      fetchAnalystRatings();\n    }, 8000);\n\n    // Clean up interval on component unmount\n    return () => clearInterval(intervalId);\n  }, []); // `popularStocks` is stable, so run once on mount.\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!symbol.trim()) {\n      setError('Please enter a stock symbol');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`/api/stock-data/${symbol.toUpperCase()}`);\n      setMarketData(response.data);\n      // Initialize selected data to the latest data point\n      if (response.data && response.data.data && response.data.data.length > 0) {\n        setSelectedDateData(response.data.data[response.data.data.length - 1]);\n      } else {\n        setSelectedDateData(null);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error fetching stock data:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to fetch stock data');\n      setMarketData(null);\n      setSelectedDateData(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const chartData = marketData ? {\n    labels: marketData.data.map(item => item.date),\n    datasets: [{\n      label: 'Close Price',\n      data: marketData.data.map(item => item.close),\n      borderColor: colors.chartClose,\n      backgroundColor: 'rgba(40, 167, 69, 0.1)',\n      borderWidth: 0.5,\n      tension: 0.1,\n      pointRadius: 0,\n      hidden: !datasetVisibility['Close Price'] // Link visibility to state\n    }, {\n      label: 'Open Price',\n      data: marketData.data.map(item => item.open),\n      borderColor: colors.chartOpen,\n      backgroundColor: 'rgba(0, 123, 255, 0.1)',\n      borderWidth: 0.5,\n      tension: 0.1,\n      pointRadius: 0,\n      hidden: !datasetVisibility['Open Price'] // Link visibility to state\n    }, {\n      label: 'High',\n      data: marketData.data.map(item => item.high),\n      borderColor: colors.chartHigh,\n      backgroundColor: 'rgba(255, 193, 7, 0.1)',\n      borderWidth: 0.5,\n      tension: 0.1,\n      hidden: !datasetVisibility['High'],\n      // Link visibility to state\n      pointRadius: 0\n    }, {\n      label: 'Low',\n      data: marketData.data.map(item => item.low),\n      borderColor: colors.chartLow,\n      backgroundColor: 'rgba(220, 53, 69, 0.1)',\n      borderWidth: 0.5,\n      tension: 0.1,\n      hidden: !datasetVisibility['Low'],\n      // Link visibility to state\n      pointRadius: 0\n    }\n    // Volume is not a line dataset in this chart\n    ]\n  } : null;\n  const chartOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: colors.text\n        },\n        // Disable default legend click behavior\n        onClick: e => e.stopPropagation() // Stop the event from triggering default Chart.js toggle\n      },\n      title: {\n        display: true,\n        text: marketData ? `${marketData.symbol} Price History` : 'Stock Price History',\n        color: colors.text\n      },\n      tooltip: {\n        callbacks: {\n          label: function (context) {\n            const label = context.dataset.label || '';\n            const value = context.parsed.y || 0;\n            return `${label}: $${value.toFixed(2)}`;\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        title: {\n          display: true,\n          text: 'Price ($)',\n          color: colors.text\n        },\n        ticks: {\n          callback: function (value) {\n            return '$' + value.toFixed(2);\n          },\n          color: colors.text\n        },\n        grid: {\n          color: colors.border\n        }\n      },\n      x: {\n        title: {\n          display: true,\n          text: 'Date',\n          color: colors.text\n        },\n        ticks: {\n          color: colors.text\n        },\n        grid: {\n          color: colors.border\n        }\n      }\n    },\n    onClick: (event, elements) => {\n      if (elements.length > 0) {\n        const dataIndex = elements[0].index;\n        const datasetIndex = elements[0].datasetIndex;\n        // We are interested in the data from the 'Close Price' dataset (datasetIndex 0) for selecting the date\n        if (marketData && marketData.data && dataIndex >= 0 && dataIndex < marketData.data.length) {\n          setSelectedDateData(marketData.data[dataIndex]);\n        }\n      }\n    }\n  };\n\n  // Helper function to calculate price change for a specific date relative to the previous day\n  const calculateDailyChange = (selectedData, allData) => {\n    if (!selectedData || !allData || allData.length < 2) return null; // Need at least 2 data points to calculate a change\n\n    const selectedIndex = allData.findIndex(item => item.date === selectedData.date);\n    if (selectedIndex <= 0) return null; // Cannot calculate change if it's the first day or data not found\n\n    const previousDayData = allData[selectedIndex - 1];\n    const currentPrice = parseFloat(selectedData.close);\n    const previousClose = parseFloat(previousDayData.close);\n    if (previousClose === 0) return null; // Avoid division by zero\n\n    const change = currentPrice - previousClose;\n    const percentChange = change / previousClose * 100;\n    const isPositive = change >= 0;\n    return {\n      change,\n      percentChange,\n      isPositive\n    };\n  };\n\n  // Function to toggle dataset visibility by label\n  const toggleDatasetVisibility = datasetLabel => {\n    setDatasetVisibility(prevState => ({\n      ...prevState,\n      [datasetLabel]: !prevState[datasetLabel]\n    }));\n  };\n  const handleQuickSelect = stockSymbol => {\n    setSymbol(stockSymbol);\n    // Submit the form programmatically\n    handleSubmitWithSymbol(stockSymbol);\n  };\n  const handleSubmitWithSymbol = async stockSymbol => {\n    if (!stockSymbol.trim()) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`/api/stock-data/${stockSymbol.toUpperCase()}`);\n      setMarketData(response.data);\n      // Initialize selected data to the latest data point\n      if (response.data && response.data.data && response.data.data.length > 0) {\n        setSelectedDateData(response.data.data[response.data.data.length - 1]);\n      } else {\n        setSelectedDateData(null);\n      }\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Error fetching stock data:', err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to fetch stock data');\n      setMarketData(null);\n      setSelectedDateData(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n      color: colors.text,\n      backgroundColor: 'transparent'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        borderRadius: '8px',\n        boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n        overflow: 'hidden',\n        marginBottom: '1rem',\n        backgroundColor: colors.background\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          borderBottom: `1px solid ${colors.border}`,\n          backgroundColor: colors.cardHeaderBackground\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 0 0',\n            fontSize: '1.5rem',\n            fontWeight: '600',\n            color: colors.text\n          },\n          children: \"Popular Stocks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0',\n            fontSize: '0.875rem',\n            color: colors.mutedText\n          },\n          children: \"Quick select or view summary data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          backgroundColor: colors.cardBackground\n        },\n        children: [popularStocksLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: colors.mutedText\n          },\n          children: \"Loading popular stock summaries...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 36\n        }, this), popularStocksError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: colors.dangerText\n          },\n          children: popularStocksError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 34\n        }, this), !popularStocksLoading && !popularStocksError && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fill, minmax(180px, 1fr))',\n            gap: '1rem'\n          },\n          children: popularStockDetails.map(detail => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleQuickSelect(detail.symbol),\n            disabled: loading // Disable if main chart is loading\n            ,\n            style: {\n              padding: '1rem',\n              border: `1px solid ${colors.border}`,\n              borderRadius: '8px',\n              backgroundColor: colors.cardBackground,\n              textAlign: 'left',\n              cursor: loading ? 'not-allowed' : 'pointer',\n              opacity: loading ? '0.65' : '1',\n              boxShadow: isDarkMode ? '0 2px 4px rgba(0,0,0,0.25)' : '0 2px 4px rgba(0,0,0,0.1)',\n              transition: 'transform 0.2s ease, box-shadow 0.2s ease',\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'space-between',\n              minHeight: '100px' // Ensure cards have a consistent minimum height\n            },\n            onMouseOver: e => {\n              if (!loading) {\n                e.currentTarget.style.transform = 'translateY(-3px)';\n                e.currentTarget.style.boxShadow = isDarkMode ? '0 5px 10px rgba(0,0,0,0.35)' : '0 5px 10px rgba(0,0,0,0.15)';\n              }\n            },\n            onMouseOut: e => {\n              e.currentTarget.style.transform = 'none';\n              e.currentTarget.style.boxShadow = isDarkMode ? '0 2px 4px rgba(0,0,0,0.25)' : '0 2px 4px rgba(0,0,0,0.1)';\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.8rem',\n                  color: colors.mutedText,\n                  marginBottom: '0.25rem'\n                },\n                children: detail.symbol\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1rem',\n                  fontWeight: '600',\n                  color: colors.text,\n                  marginBottom: '0.35rem',\n                  whiteSpace: 'nowrap',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis'\n                },\n                children: detail.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 19\n            }, this), detail.error === true && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8rem',\n                color: colors.dangerText,\n                marginTop: 'auto'\n              },\n              children: \"Error loading data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 45\n            }, this), typeof detail.error === 'string' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8rem',\n                color: colors.mutedText,\n                marginTop: 'auto'\n              },\n              children: detail.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 56\n            }, this), !detail.error && detail.currentPrice !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 'auto'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1.1rem',\n                  fontWeight: 'bold',\n                  color: colors.text,\n                  marginBottom: '0.25rem'\n                },\n                children: [\"$\", detail.currentPrice.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 23\n              }, this), detail.change !== null && detail.percentChange !== null && detail.isPositive !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.8rem',\n                  fontWeight: 500,\n                  color: detail.isPositive ? colors.successText : colors.dangerText\n                },\n                children: [detail.isPositive ? '▲' : '▼', \" \", Math.abs(detail.change).toFixed(2), \" (\", Math.abs(detail.percentChange).toFixed(2), \"%)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.8rem',\n                  color: colors.mutedText\n                },\n                children: \"N/A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 21\n            }, this), !detail.error && detail.currentPrice === null && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8rem',\n                color: colors.mutedText,\n                marginTop: 'auto'\n              },\n              children: \"Data unavailable\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 70\n            }, this)]\n          }, detail.symbol, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 2fr 1fr',\n        // 1:2:1 ratio - Headlines : Chart : Ratings\n        gap: '1rem',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderRadius: '8px',\n          overflow: 'hidden',\n          backgroundColor: colors.background,\n          boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n          display: 'flex',\n          flexDirection: 'column',\n          height: '400px' // Match chart height\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            borderBottom: `1px solid ${colors.border}`,\n            backgroundColor: colors.cardHeaderBackground\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: '0 0 0 0',\n              fontSize: '1.25rem',\n              fontWeight: '600',\n              color: colors.text\n            },\n            children: \"Market Headlines\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            overflowY: 'auto',\n            // Enable scrolling\n            flex: '1' // Take remaining space\n          },\n          children: newsLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: colors.mutedText\n            },\n            children: \"Loading headlines...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 15\n          }, this) : newsError ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: colors.dangerText\n            },\n            children: newsError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '1rem'\n            },\n            children: headlines.map(headline => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '0.75rem',\n                borderRadius: '8px',\n                backgroundColor: colors.cardBackground,\n                border: `1px solid ${colors.border}`,\n                boxShadow: isDarkMode ? '0 1px 2px rgba(0,0,0,0.2)' : '0 1px 2px rgba(0,0,0,0.05)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'flex-start',\n                  justifyContent: 'space-between',\n                  marginBottom: '0.5rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    backgroundColor: '#ff6b6b',\n                    color: colors.buttonText,\n                    padding: '0.25rem 0.5rem',\n                    borderRadius: '4px',\n                    fontSize: '0.75rem',\n                    fontWeight: '600'\n                  },\n                  children: headline.stock\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: colors.mutedText,\n                    fontSize: '0.75rem'\n                  },\n                  children: formatDate(headline.date)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: '0.5rem 0 0 0',\n                  fontSize: '0.85rem'\n                },\n                children: headline.headline\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 21\n              }, this)]\n            }, headline.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderRadius: '8px',\n          boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n          overflow: 'hidden',\n          backgroundColor: colors.background\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            borderBottom: `1px solid ${colors.border}`,\n            backgroundColor: colors.cardHeaderBackground\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: '0 0 0 0',\n              fontSize: '1.5rem',\n              fontWeight: '600',\n              color: colors.text\n            },\n            children: \"Stock Market Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '0',\n              fontSize: '0.875rem',\n              color: colors.mutedText\n            },\n            children: \"Enter a symbol to view historical market data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            backgroundColor: colors.cardBackground\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            style: {\n              display: 'flex',\n              gap: '0.5rem',\n              marginBottom: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Enter stock symbol (e.g., AAPL)\",\n              value: symbol,\n              onChange: e => setSymbol(e.target.value),\n              style: {\n                flex: '1',\n                padding: '0.5rem 0.75rem',\n                fontSize: '1rem',\n                borderRadius: '4px',\n                border: `1px solid ${colors.border}`,\n                outline: 'none',\n                backgroundColor: isDarkMode ? '#3f3f46' : '#fff',\n                color: colors.text\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              style: {\n                padding: '0.5rem 1rem',\n                backgroundColor: loading ? isDarkMode ? '#52525b' : '#6c757d' : colors.primary,\n                color: colors.buttonText,\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '1rem',\n                cursor: loading ? 'not-allowed' : 'pointer',\n                opacity: loading ? '0.65' : '1'\n              },\n              disabled: loading,\n              children: loading ? 'Loading...' : 'Get Data'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: isDarkMode ? 'rgba(248, 113, 113, 0.1)' : 'rgba(239, 68, 68, 0.1)',\n              color: colors.dangerText,\n              borderRadius: '4px',\n              padding: '0.75rem 1rem',\n              marginBottom: '1rem'\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this), marketData && marketData.data && marketData.data.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              // Arrange children (chart and data) in a row\n              width: '100%' // Ensure this container takes full width of parent\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '80%',\n                flex: '0 0 80%'\n              },\n              children: /*#__PURE__*/_jsxDEV(Line, {\n                data: chartData,\n                options: chartOptions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 17\n            }, this), selectedDateData && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '20%',\n                flex: '0 0 20%',\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '0.5rem',\n                padding: '0 0 0 1rem',\n                // Add padding on the left to separate from chart\n                height: '100%' // Maximize height\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: '0 0 0.5rem 0',\n                  fontSize: '1rem',\n                  fontWeight: '600',\n                  color: colors.text\n                },\n                children: [\"Latest Data (\", selectedDateData.date, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 21\n              }, this), selectedDateData && marketData && marketData.data && (() => {\n                const dailyChange = calculateDailyChange(selectedDateData, marketData.data);\n                if (!dailyChange) return null;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  // Unique key based on date to ensure re-render\n                  style: {\n                    textAlign: 'center',\n                    marginBottom: '1rem' // Keep some margin below the change\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      display: 'inline-block',\n                      padding: '0.5rem 1rem',\n                      borderRadius: '4px',\n                      backgroundColor: dailyChange.isPositive ? isDarkMode ? 'rgba(74, 222, 128, 0.1)' : 'rgba(34, 197, 94, 0.1)' : isDarkMode ? 'rgba(248, 113, 113, 0.1)' : 'rgba(239, 68, 68, 0.1)',\n                      color: dailyChange.isPositive ? colors.successText : colors.dangerText,\n                      fontWeight: 500\n                    },\n                    children: [dailyChange.isPositive ? '↑' : '↓', \" $\", Math.abs(dailyChange.change).toFixed(2), \" (\", Math.abs(dailyChange.percentChange).toFixed(2), \"%)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 721,\n                    columnNumber: 29\n                  }, this)\n                }, 'daily-change-' + selectedDateData.date, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 715,\n                  columnNumber: 27\n                }, this);\n              })(), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '0.5rem',\n                  overflowY: 'auto'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => toggleDatasetVisibility('Open Price') // Add click handler\n                  ,\n                  style: {\n                    borderRadius: '4px',\n                    backgroundColor: datasetVisibility['Open Price'] ? colors.cardBackground : colors.border,\n                    // Indicator: change background/border\n                    border: `1px solid ${datasetVisibility['Open Price'] ? colors.border : colors.mutedText}`,\n                    // Indicator: change border color\n                    padding: '0.4rem 0.6rem',\n                    textAlign: 'center',\n                    flex: '0 0 auto',\n                    minWidth: 'auto',\n                    width: '100%',\n                    cursor: 'pointer',\n                    // Indicate clickable\n                    opacity: datasetVisibility['Open Price'] ? '1' : '0.7',\n                    // Indicator: change opacity\n                    transition: 'opacity 0.2s ease' // Smooth transition\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      color: colors.text,\n                      marginBottom: '0.1rem'\n                    },\n                    children: \"Open\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 761,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '1rem',\n                      fontWeight: 600,\n                      color: colors.text\n                    },\n                    children: [\"$\", Number(selectedDateData.open).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 762,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 746,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => toggleDatasetVisibility('Close Price') // Add click handler\n                  ,\n                  style: {\n                    borderRadius: '4px',\n                    backgroundColor: datasetVisibility['Close Price'] ? colors.cardBackground : colors.border,\n                    // Indicator\n                    border: `1px solid ${datasetVisibility['Close Price'] ? colors.border : colors.mutedText}`,\n                    // Indicator\n                    padding: '0.4rem 0.6rem',\n                    textAlign: 'center',\n                    flex: '0 0 auto',\n                    minWidth: 'auto',\n                    width: '100%',\n                    cursor: 'pointer',\n                    // Indicate clickable\n                    opacity: datasetVisibility['Close Price'] ? '1' : '0.7',\n                    // Indicator\n                    transition: 'opacity 0.2s ease' // Smooth transition\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      color: colors.text,\n                      marginBottom: '0.1rem'\n                    },\n                    children: \"Close\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 780,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '1rem',\n                      fontWeight: 600,\n                      color: colors.text\n                    },\n                    children: [\"$\", Number(selectedDateData.close).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 781,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => toggleDatasetVisibility('High') // Add click handler\n                  ,\n                  style: {\n                    borderRadius: '4px',\n                    backgroundColor: datasetVisibility['High'] ? colors.cardBackground : colors.border,\n                    // Indicator\n                    border: `1px solid ${datasetVisibility['High'] ? colors.border : colors.mutedText}`,\n                    // Indicator\n                    padding: '0.4rem 0.6rem',\n                    textAlign: 'center',\n                    flex: '0 0 auto',\n                    minWidth: 'auto',\n                    width: '100%',\n                    cursor: 'pointer',\n                    // Indicate clickable\n                    opacity: datasetVisibility['High'] ? '1' : '0.7',\n                    // Indicator\n                    transition: 'opacity 0.2s ease' // Smooth transition\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      color: colors.text,\n                      marginBottom: '0.1rem'\n                    },\n                    children: \"High\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 799,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '1rem',\n                      fontWeight: 600,\n                      color: colors.text\n                    },\n                    children: [\"$\", Number(selectedDateData.high).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 800,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 784,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => toggleDatasetVisibility('Low') // Add click handler\n                  ,\n                  style: {\n                    borderRadius: '4px',\n                    backgroundColor: datasetVisibility['Low'] ? colors.cardBackground : colors.border,\n                    // Indicator\n                    border: `1px solid ${datasetVisibility['Low'] ? colors.border : colors.mutedText}`,\n                    // Indicator\n                    padding: '0.4rem 0.6rem',\n                    textAlign: 'center',\n                    flex: '0 0 auto',\n                    minWidth: 'auto',\n                    width: '100%',\n                    cursor: 'pointer',\n                    // Indicate clickable\n                    opacity: datasetVisibility['Low'] ? '1' : '0.7',\n                    // Indicator\n                    transition: 'opacity 0.2s ease' // Smooth transition\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      color: colors.text,\n                      marginBottom: '0.1rem'\n                    },\n                    children: \"Low\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 818,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '1rem',\n                      fontWeight: 600,\n                      color: colors.text\n                    },\n                    children: [\"$\", Number(selectedDateData.low).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 819,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 803,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    borderRadius: '4px',\n                    backgroundColor: colors.cardBackground,\n                    border: `1px solid ${colors.border}`,\n                    // Keep default border\n                    padding: '0.4rem 0.6rem',\n                    textAlign: 'center',\n                    flex: '0 0 auto',\n                    minWidth: 'auto',\n                    width: '100%'\n                    // Removed cursor: 'pointer' and opacity/transition for non-interactive item\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      color: colors.mutedText,\n                      marginBottom: '0.1rem'\n                    },\n                    children: \"Volume\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 833,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '1rem',\n                      fontWeight: 600,\n                      color: colors.text\n                    },\n                    children: Number(selectedDateData.volume).toLocaleString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 834,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '1rem 0',\n              textAlign: 'center',\n              color: colors.mutedText\n            },\n            children: \"Enter a stock symbol to view market data.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderRadius: '8px',\n          overflow: 'hidden',\n          backgroundColor: colors.background,\n          boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n          display: 'flex',\n          flexDirection: 'column',\n          height: '400px' // Match chart height\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            borderBottom: `1px solid ${colors.border}`,\n            backgroundColor: colors.cardHeaderBackground\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: '0 0 0 0',\n              fontSize: '1.25rem',\n              fontWeight: '600',\n              color: colors.text\n            },\n            children: \"Analyst Ratings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 858,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            overflowY: 'auto',\n            // Enable scrolling\n            flex: '1' // Take remaining space\n          },\n          children: newsLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: colors.mutedText\n            },\n            children: \"Loading analyst ratings...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 15\n          }, this) : newsError ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: colors.dangerText\n            },\n            children: newsError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '1rem'\n            },\n            children: analystRatings.map(rating => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '0.75rem',\n                borderRadius: '8px',\n                backgroundColor: colors.cardBackground,\n                border: `1px solid ${colors.border}`,\n                boxShadow: isDarkMode ? '0 1px 2px rgba(0,0,0,0.2)' : '0 1px 2px rgba(0,0,0,0.05)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'flex-start',\n                  justifyContent: 'space-between',\n                  marginBottom: '0.5rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    backgroundColor: colors.primary,\n                    color: colors.buttonText,\n                    padding: '0.25rem 0.5rem',\n                    borderRadius: '4px',\n                    fontSize: '0.75rem',\n                    fontWeight: '600'\n                  },\n                  children: rating.stock\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 899,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: colors.mutedText,\n                    fontSize: '0.75rem'\n                  },\n                  children: formatDate(rating.date)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 909,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 893,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: '0.5rem 0 0 0',\n                  fontSize: '0.85rem'\n                },\n                children: rating.headline\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 916,\n                columnNumber: 21\n              }, this)]\n            }, rating.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 871,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 849,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LiveFeed, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 928,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 407,\n    columnNumber: 5\n  }, this);\n};\n_s(StockChart, \"BsXBK6KRtmo0qriZkMathzgcELg=\", false, function () {\n  return [useTheme];\n});\n_c = StockChart;\nexport default StockChart;\nvar _c;\n$RefreshReg$(_c, \"StockChart\");","map":{"version":3,"names":["React","useState","useEffect","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Line","useTheme","LiveFeed","jsxDEV","_jsxDEV","register","StockChart","_s","symbol","setSymbol","marketData","setMarketData","loading","setLoading","error","setError","theme","selectedDateData","setSelectedDateData","datasetVisibility","setDatasetVisibility","popularStocks","name","popularStockDetails","setPopularStockDetails","popularStocksLoading","setPopularStocksLoading","popularStocksError","setPopularStocksError","analystRatings","setAnalystRatings","headlines","setHeadlines","newsLoading","setNewsLoading","newsError","setNewsError","isDarkMode","window","matchMedia","matches","colors","text","mutedText","background","cardBackground","cardHeaderBackground","border","primary","primaryDark","buttonText","dangerText","successText","chartClose","chartOpen","chartHigh","chartLow","fetchAnalystRatings","response","get","data","success","err","console","fetchHeadlines","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","fetchPopularStockDetails","detailsPromises","map","stock","toUpperCase","length","stockData","latestEntry","currentPrice","parseFloat","close","change","percentChange","isPositive","previousEntry","previousClose","openPrice","open","undefined","results","Promise","all","intervalId","setInterval","clearInterval","handleSubmit","e","preventDefault","trim","_err$response","_err$response$data","chartData","labels","item","datasets","label","borderColor","backgroundColor","borderWidth","tension","pointRadius","hidden","high","low","chartOptions","responsive","plugins","legend","position","color","onClick","stopPropagation","title","display","tooltip","callbacks","context","dataset","value","parsed","y","toFixed","scales","ticks","callback","grid","x","event","elements","dataIndex","index","datasetIndex","calculateDailyChange","selectedData","allData","selectedIndex","findIndex","previousDayData","toggleDatasetVisibility","datasetLabel","prevState","handleQuickSelect","stockSymbol","handleSubmitWithSymbol","_err$response2","_err$response2$data","style","padding","fontFamily","children","borderRadius","boxShadow","overflow","marginBottom","borderBottom","margin","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","gridTemplateColumns","gap","detail","disabled","textAlign","cursor","opacity","transition","flexDirection","justifyContent","minHeight","onMouseOver","currentTarget","transform","onMouseOut","whiteSpace","textOverflow","marginTop","Math","abs","height","overflowY","flex","headline","alignItems","id","onSubmit","type","placeholder","onChange","target","outline","width","options","dailyChange","minWidth","Number","volume","toLocaleString","rating","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/StockSentimentAnalysis/frontend/src/components/StockChart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { useTheme } from './ui/ThemeProvider';\r\nimport LiveFeed from './LiveFeed'; // Import LiveFeed component\r\n\r\n// Register ChartJS components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nconst StockChart = () => {\r\n  const [symbol, setSymbol] = useState('');\r\n  const [marketData, setMarketData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const { theme } = useTheme();\r\n  \r\n  // New state for selected data point\r\n  const [selectedDateData, setSelectedDateData] = useState(null);\r\n  \r\n  // New state to manage dataset visibility\r\n  const [datasetVisibility, setDatasetVisibility] = useState({\r\n    'Close Price': true,\r\n    'Open Price': true,\r\n    'High': false, // Initially hidden\r\n    'Low': false,  // Initially hidden\r\n    // Volume is not a line dataset in this chart, so not included here for toggling\r\n  });\r\n  \r\n  // Popular stocks for quick selection\r\n  const popularStocks = [\r\n    { symbol: 'AAPL', name: 'Apple' },\r\n    { symbol: 'MSFT', name: 'Microsoft' },\r\n    { symbol: 'GOOGL', name: 'Google' },\r\n    { symbol: 'AMZN', name: 'Amazon' },\r\n    { symbol: 'TSLA', name: 'Tesla' },\r\n  ];\r\n\r\n  const [popularStockDetails, setPopularStockDetails] = useState([]);\r\n  const [popularStocksLoading, setPopularStocksLoading] = useState(false);\r\n  const [popularStocksError, setPopularStocksError] = useState(null);\r\n  \r\n  // News and Analyst Ratings state\r\n  const [analystRatings, setAnalystRatings] = useState([]);\r\n  const [headlines, setHeadlines] = useState([]);\r\n  const [newsLoading, setNewsLoading] = useState(true);\r\n  const [newsError, setNewsError] = useState(null);\r\n  \r\n  // Determine if using dark mode\r\n  const isDarkMode = theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches);\r\n  \r\n  // Theme-based colors\r\n  const colors = {\r\n    text: isDarkMode ? '#e4e4e7' : '#212529',\r\n    mutedText: isDarkMode ? '#a1a1aa' : '#6c757d',\r\n    background: isDarkMode ? '#18181b' : '#fff',\r\n    cardBackground: isDarkMode ? '#1a1a1a' : '#fff',\r\n    cardHeaderBackground: isDarkMode ? '#1a1a1a' : '#f8f9fa',\r\n    border: isDarkMode ? '#3f3f46' : '#e9ecef',\r\n    primary: '#007bff',\r\n    primaryDark: '#0056b3',\r\n    buttonText: '#fff',\r\n    dangerText: isDarkMode ? '#f87171' : '#dc3545',\r\n    successText: isDarkMode ? '#4ade80' : '#198754',\r\n    chartClose: '#28a745',\r\n    chartOpen: '#007bff',\r\n    chartHigh: '#ffc107',\r\n    chartLow: '#dc3545',\r\n  };\r\n\r\n  // Function to fetch analyst ratings\r\n  const fetchAnalystRatings = async () => {\r\n    try {\r\n      const response = await axios.get('/api/analyst-ratings/5');\r\n      if (response.data && response.data.success && response.data.data) {\r\n        setAnalystRatings(response.data.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching analyst ratings:', err);\r\n      setNewsError('Failed to fetch analyst ratings');\r\n    }\r\n  };\r\n\r\n  // Function to fetch headlines\r\n  const fetchHeadlines = async () => {\r\n    try {\r\n      const response = await axios.get('/api/headlines/5');\r\n      if (response.data && response.data.success && response.data.data) {\r\n        setHeadlines(response.data.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching headlines:', err);\r\n      setNewsError('Failed to fetch headlines');\r\n    } finally {\r\n      setNewsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Format date for display\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', { \r\n      year: 'numeric', \r\n      month: 'short', \r\n      day: 'numeric' \r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchPopularStockDetails = async () => {\r\n      setPopularStocksLoading(true);\r\n      setPopularStocksError(null);\r\n      const detailsPromises = popularStocks.map(async (stock) => {\r\n        try {\r\n          const response = await axios.get(`/api/stock-data/${stock.symbol.toUpperCase()}`);\r\n          if (response.data && response.data.data && response.data.data.length > 0) {\r\n            const stockData = response.data.data;\r\n            const latestEntry = stockData[stockData.length - 1];\r\n            const currentPrice = parseFloat(latestEntry.close);\r\n            let change = null;\r\n            let percentChange = null;\r\n            let isPositive = null;\r\n\r\n            if (stockData.length > 1) {\r\n              const previousEntry = stockData[stockData.length - 2];\r\n              const previousClose = parseFloat(previousEntry.close);\r\n              if (previousClose !== 0) {\r\n                change = currentPrice - previousClose;\r\n                percentChange = (change / previousClose) * 100;\r\n              }\r\n            } else if (stockData.length === 1) {\r\n              const openPrice = parseFloat(latestEntry.open);\r\n              if (latestEntry.open !== undefined && openPrice !== 0) {\r\n                change = currentPrice - openPrice;\r\n                percentChange = (change / openPrice) * 100;\r\n              }\r\n            }\r\n            \r\n            if (change !== null) {\r\n              isPositive = change >= 0;\r\n            }\r\n\r\n            return {\r\n              ...stock,\r\n              currentPrice,\r\n              change,\r\n              percentChange,\r\n              isPositive,\r\n              error: false,\r\n            };\r\n          } else {\r\n            return { ...stock, currentPrice: null, change: null, percentChange: null, error: 'No data returned' };\r\n          }\r\n        } catch (err) {\r\n          console.error(`Failed to fetch data for ${stock.symbol}`, err);\r\n          return { ...stock, currentPrice: null, change: null, percentChange: null, error: true };\r\n        }\r\n      });\r\n      \r\n      const results = await Promise.all(detailsPromises);\r\n      setPopularStockDetails(results);\r\n      setPopularStocksLoading(false);\r\n    };\r\n\r\n    // Initial fetch for all data\r\n    fetchPopularStockDetails();\r\n    fetchHeadlines();\r\n    fetchAnalystRatings();\r\n\r\n    // Set up interval to fetch news and ratings every 8 seconds\r\n    const intervalId = setInterval(() => {\r\n      fetchHeadlines();\r\n      fetchAnalystRatings();\r\n    }, 8000);\r\n\r\n    // Clean up interval on component unmount\r\n    return () => clearInterval(intervalId);\r\n  }, []); // `popularStocks` is stable, so run once on mount.\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!symbol.trim()) {\r\n      setError('Please enter a stock symbol');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.get(`/api/stock-data/${symbol.toUpperCase()}`);\r\n      setMarketData(response.data);\r\n      // Initialize selected data to the latest data point\r\n      if (response.data && response.data.data && response.data.data.length > 0) {\r\n        setSelectedDateData(response.data.data[response.data.data.length - 1]);\r\n      } else {\r\n        setSelectedDateData(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching stock data:', err);\r\n      setError(err.response?.data?.error || 'Failed to fetch stock data');\r\n      setMarketData(null);\r\n      setSelectedDateData(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const chartData = marketData ? {\r\n    labels: marketData.data.map(item => item.date),\r\n    datasets: [\r\n      {\r\n        label: 'Close Price',\r\n        data: marketData.data.map(item => item.close),\r\n        borderColor: colors.chartClose,\r\n        backgroundColor: 'rgba(40, 167, 69, 0.1)',\r\n        borderWidth: 0.5,\r\n        tension: 0.1,\r\n        pointRadius: 0,\r\n        hidden: !datasetVisibility['Close Price'], // Link visibility to state\r\n      },\r\n      {\r\n        label: 'Open Price',\r\n        data: marketData.data.map(item => item.open),\r\n        borderColor: colors.chartOpen,\r\n        backgroundColor: 'rgba(0, 123, 255, 0.1)',\r\n        borderWidth: 0.5,\r\n        tension: 0.1,\r\n        pointRadius: 0,\r\n        hidden: !datasetVisibility['Open Price'], // Link visibility to state\r\n      },\r\n      {\r\n        label: 'High',\r\n        data: marketData.data.map(item => item.high),\r\n        borderColor: colors.chartHigh,\r\n        backgroundColor: 'rgba(255, 193, 7, 0.1)',\r\n        borderWidth: 0.5,\r\n        tension: 0.1,\r\n        hidden: !datasetVisibility['High'], // Link visibility to state\r\n        pointRadius: 0,\r\n      },\r\n      {\r\n        label: 'Low',\r\n        data: marketData.data.map(item => item.low),\r\n        borderColor: colors.chartLow,\r\n        backgroundColor: 'rgba(220, 53, 69, 0.1)',\r\n        borderWidth: 0.5,\r\n        tension: 0.1,\r\n        hidden: !datasetVisibility['Low'], // Link visibility to state\r\n        pointRadius: 0,\r\n      }\r\n      // Volume is not a line dataset in this chart\r\n    ],\r\n  } : null;\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n        labels: {\r\n          color: colors.text\r\n        },\r\n        // Disable default legend click behavior\r\n        onClick: (e) => e.stopPropagation() // Stop the event from triggering default Chart.js toggle\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: marketData ? `${marketData.symbol} Price History` : 'Stock Price History',\r\n        color: colors.text\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: function(context) {\r\n            const label = context.dataset.label || '';\r\n            const value = context.parsed.y || 0;\r\n            return `${label}: $${value.toFixed(2)}`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      y: {\r\n        title: {\r\n          display: true,\r\n          text: 'Price ($)',\r\n          color: colors.text\r\n        },\r\n        ticks: {\r\n          callback: function(value) {\r\n            return '$' + value.toFixed(2);\r\n          },\r\n          color: colors.text\r\n        },\r\n        grid: {\r\n          color: colors.border\r\n        }\r\n      },\r\n      x: {\r\n        title: {\r\n          display: true,\r\n          text: 'Date',\r\n          color: colors.text\r\n        },\r\n        ticks: {\r\n          color: colors.text\r\n        },\r\n        grid: {\r\n          color: colors.border\r\n        }\r\n      }\r\n    },\r\n    onClick: (event, elements) => {\r\n      if (elements.length > 0) {\r\n        const dataIndex = elements[0].index;\r\n        const datasetIndex = elements[0].datasetIndex;\r\n        // We are interested in the data from the 'Close Price' dataset (datasetIndex 0) for selecting the date\r\n        if (marketData && marketData.data && dataIndex >= 0 && dataIndex < marketData.data.length) {\r\n           setSelectedDateData(marketData.data[dataIndex]);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Helper function to calculate price change for a specific date relative to the previous day\r\n  const calculateDailyChange = (selectedData, allData) => {\r\n    if (!selectedData || !allData || allData.length < 2) return null; // Need at least 2 data points to calculate a change\r\n\r\n    const selectedIndex = allData.findIndex(item => item.date === selectedData.date);\r\n\r\n    if (selectedIndex <= 0) return null; // Cannot calculate change if it's the first day or data not found\r\n\r\n    const previousDayData = allData[selectedIndex - 1];\r\n    const currentPrice = parseFloat(selectedData.close);\r\n    const previousClose = parseFloat(previousDayData.close);\r\n\r\n    if (previousClose === 0) return null; // Avoid division by zero\r\n\r\n    const change = currentPrice - previousClose;\r\n    const percentChange = (change / previousClose) * 100;\r\n    const isPositive = change >= 0;\r\n\r\n    return {\r\n      change,\r\n      percentChange,\r\n      isPositive,\r\n    };\r\n  };\r\n\r\n  // Function to toggle dataset visibility by label\r\n  const toggleDatasetVisibility = (datasetLabel) => {\r\n    setDatasetVisibility(prevState => ({\r\n      ...prevState,\r\n      [datasetLabel]: !prevState[datasetLabel]\r\n    }));\r\n  };\r\n\r\n  const handleQuickSelect = (stockSymbol) => {\r\n    setSymbol(stockSymbol);\r\n    // Submit the form programmatically\r\n    handleSubmitWithSymbol(stockSymbol);\r\n  };\r\n\r\n  const handleSubmitWithSymbol = async (stockSymbol) => {\r\n    if (!stockSymbol.trim()) return;\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.get(`/api/stock-data/${stockSymbol.toUpperCase()}`);\r\n      setMarketData(response.data);\r\n      // Initialize selected data to the latest data point\r\n      if (response.data && response.data.data && response.data.data.length > 0) {\r\n        setSelectedDateData(response.data.data[response.data.data.length - 1]);\r\n      } else {\r\n        setSelectedDateData(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching stock data:', err);\r\n      setError(err.response?.data?.error || 'Failed to fetch stock data');\r\n      setMarketData(null);\r\n      setSelectedDateData(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      padding: '20px',\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      color: colors.text,\r\n      backgroundColor: 'transparent'\r\n    }}>\r\n      {/* Popular Stocks Card */}\r\n      <div style={{\r\n        borderRadius: '8px',\r\n        boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\r\n        overflow: 'hidden',\r\n        marginBottom: '1rem',\r\n        backgroundColor: colors.background\r\n      }}>\r\n        <div style={{\r\n          padding: '1rem',\r\n          borderBottom: `1px solid ${colors.border}`,\r\n          backgroundColor: colors.cardHeaderBackground\r\n        }}>\r\n          <h3 style={{\r\n            margin: '0 0 0 0',\r\n            fontSize: '1.5rem',\r\n            fontWeight: '600',\r\n            color: colors.text\r\n          }}>Popular Stocks</h3>\r\n          <p style={{\r\n            margin: '0',\r\n            fontSize: '0.875rem',\r\n            color: colors.mutedText\r\n          }}>Quick select or view summary data</p>\r\n        </div>\r\n        <div style={{ padding: '1rem', backgroundColor: colors.cardBackground }}>\r\n          {popularStocksLoading && <p style={{color: colors.mutedText}}>Loading popular stock summaries...</p>}\r\n          {popularStocksError && <p style={{color: colors.dangerText}}>{popularStocksError}</p>}\r\n          {!popularStocksLoading && !popularStocksError && (\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fill, minmax(180px, 1fr))',\r\n              gap: '1rem'\r\n            }}>\r\n              {popularStockDetails.map(detail => (\r\n                <button\r\n                  key={detail.symbol}\r\n                  onClick={() => handleQuickSelect(detail.symbol)}\r\n                  disabled={loading} // Disable if main chart is loading\r\n                  style={{\r\n                    padding: '1rem',\r\n                    border: `1px solid ${colors.border}`,\r\n                    borderRadius: '8px',\r\n                    backgroundColor: colors.cardBackground,\r\n                    textAlign: 'left',\r\n                    cursor: loading ? 'not-allowed' : 'pointer',\r\n                    opacity: loading ? '0.65' : '1',\r\n                    boxShadow: isDarkMode ? '0 2px 4px rgba(0,0,0,0.25)' : '0 2px 4px rgba(0,0,0,0.1)',\r\n                    transition: 'transform 0.2s ease, box-shadow 0.2s ease',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    justifyContent: 'space-between',\r\n                    minHeight: '100px', // Ensure cards have a consistent minimum height\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    if (!loading) {\r\n                      e.currentTarget.style.transform = 'translateY(-3px)';\r\n                      e.currentTarget.style.boxShadow = isDarkMode ? '0 5px 10px rgba(0,0,0,0.35)' : '0 5px 10px rgba(0,0,0,0.15)';\r\n                    }\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    e.currentTarget.style.transform = 'none';\r\n                    e.currentTarget.style.boxShadow = isDarkMode ? '0 2px 4px rgba(0,0,0,0.25)' : '0 2px 4px rgba(0,0,0,0.1)';\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <div style={{ fontSize: '0.8rem', color: colors.mutedText, marginBottom: '0.25rem' }}>{detail.symbol}</div>\r\n                    <div style={{ fontSize: '1rem', fontWeight: '600', color: colors.text, marginBottom: '0.35rem',  whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\r\n                      {detail.name}\r\n                    </div>\r\n                  </div>\r\n                  {detail.error === true && <div style={{ fontSize: '0.8rem', color: colors.dangerText, marginTop: 'auto' }}>Error loading data</div>}\r\n                  {typeof detail.error === 'string' && <div style={{ fontSize: '0.8rem', color: colors.mutedText, marginTop: 'auto' }}>{detail.error}</div>}\r\n\r\n                  {!detail.error && detail.currentPrice !== null && (\r\n                    <div style={{marginTop: 'auto'}}>\r\n                      <div style={{ fontSize: '1.1rem', fontWeight: 'bold', color: colors.text, marginBottom: '0.25rem' }}>\r\n                        ${detail.currentPrice.toFixed(2)}\r\n                      </div>\r\n                      {detail.change !== null && detail.percentChange !== null && detail.isPositive !== null ? (\r\n                        <div style={{ fontSize: '0.8rem', fontWeight: 500, color: detail.isPositive ? colors.successText : colors.dangerText }}>\r\n                          {detail.isPositive ? '▲' : '▼'} {Math.abs(detail.change).toFixed(2)} ({Math.abs(detail.percentChange).toFixed(2)}%)\r\n                        </div>\r\n                      ) : (\r\n                        <div style={{ fontSize: '0.8rem', color: colors.mutedText }}>N/A</div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                   {!detail.error && detail.currentPrice === null && <div style={{ fontSize: '0.8rem', color: colors.mutedText, marginTop: 'auto' }}>Data unavailable</div>}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content - 3 Column Layout */}\r\n      <div style={{\r\n        display: 'grid',\r\n        gridTemplateColumns: '1fr 2fr 1fr', // 1:2:1 ratio - Headlines : Chart : Ratings\r\n        gap: '1rem',\r\n        marginBottom: '1rem'\r\n      }}>\r\n        {/* Headlines Column (LEFT) */}\r\n        <div style={{\r\n          borderRadius: '8px',\r\n          overflow: 'hidden',\r\n          backgroundColor: colors.background,\r\n          boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '400px' // Match chart height\r\n        }}>\r\n          <div style={{\r\n            padding: '1rem',\r\n            borderBottom: `1px solid ${colors.border}`,\r\n            backgroundColor: colors.cardHeaderBackground\r\n          }}>\r\n            <h3 style={{\r\n              margin: '0 0 0 0',\r\n              fontSize: '1.25rem',\r\n              fontWeight: '600',\r\n              color: colors.text\r\n            }}>Market Headlines</h3>\r\n          </div>\r\n\r\n          <div style={{ \r\n            padding: '1rem',\r\n            overflowY: 'auto', // Enable scrolling\r\n            flex: '1' // Take remaining space\r\n          }}>\r\n            {newsLoading ? (\r\n              <p style={{ color: colors.mutedText }}>Loading headlines...</p>\r\n            ) : newsError ? (\r\n              <p style={{ color: colors.dangerText }}>{newsError}</p>\r\n            ) : (\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                {headlines.map(headline => (\r\n                  <div \r\n                    key={headline.id}\r\n                    style={{\r\n                      padding: '0.75rem',\r\n                      borderRadius: '8px',\r\n                      backgroundColor: colors.cardBackground,\r\n                      border: `1px solid ${colors.border}`,\r\n                      boxShadow: isDarkMode ? '0 1px 2px rgba(0,0,0,0.2)' : '0 1px 2px rgba(0,0,0,0.05)'\r\n                    }}\r\n                  >\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      alignItems: 'flex-start', \r\n                      justifyContent: 'space-between',\r\n                      marginBottom: '0.5rem'\r\n                    }}>\r\n                      <span style={{ \r\n                        backgroundColor: '#ff6b6b', \r\n                        color: colors.buttonText,\r\n                        padding: '0.25rem 0.5rem',\r\n                        borderRadius: '4px',\r\n                        fontSize: '0.75rem',\r\n                        fontWeight: '600',\r\n                      }}>\r\n                        {headline.stock}\r\n                      </span>\r\n                      <span style={{ \r\n                        color: colors.mutedText,\r\n                        fontSize: '0.75rem'\r\n                      }}>\r\n                        {formatDate(headline.date)}\r\n                      </span>\r\n                    </div>\r\n                    <p style={{ margin: '0.5rem 0 0 0', fontSize: '0.85rem' }}>\r\n                      {headline.headline}\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Stock Data Card (MIDDLE) */}\r\n        <div style={{\r\n          borderRadius: '8px',\r\n          boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\r\n          overflow: 'hidden',\r\n          backgroundColor: colors.background\r\n        }}>\r\n          <div style={{\r\n            padding: '1rem',\r\n            borderBottom: `1px solid ${colors.border}`,\r\n            backgroundColor: colors.cardHeaderBackground\r\n          }}>\r\n            <h2 style={{\r\n              margin: '0 0 0 0',\r\n              fontSize: '1.5rem',\r\n              fontWeight: '600',\r\n              color: colors.text\r\n            }}>Stock Market Data</h2>\r\n            <p style={{\r\n              margin: '0',\r\n              fontSize: '0.875rem',\r\n              color: colors.mutedText\r\n            }}>Enter a symbol to view historical market data</p>\r\n          </div>\r\n          {/* Main Card Body */}\r\n          <div style={{\r\n            padding: '1rem',\r\n            backgroundColor: colors.cardBackground,\r\n          }}>\r\n            {/* Search form */}\r\n            <form onSubmit={handleSubmit} style={{\r\n              display: 'flex',\r\n              gap: '0.5rem',\r\n              marginBottom: '1rem'\r\n            }}>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Enter stock symbol (e.g., AAPL)\"\r\n                value={symbol}\r\n                onChange={(e) => setSymbol(e.target.value)}\r\n                style={{ \r\n                  flex: '1',\r\n                  padding: '0.5rem 0.75rem',\r\n                  fontSize: '1rem',\r\n                  borderRadius: '4px',\r\n                  border: `1px solid ${colors.border}`,\r\n                  outline: 'none',\r\n                  backgroundColor: isDarkMode ? '#3f3f46' : '#fff',\r\n                  color: colors.text\r\n                }}\r\n              />\r\n              <button \r\n                type=\"submit\" \r\n                style={{ \r\n                  padding: '0.5rem 1rem',\r\n                  backgroundColor: loading ? (isDarkMode ? '#52525b' : '#6c757d') : colors.primary,\r\n                  color: colors.buttonText,\r\n                  border: 'none',\r\n                  borderRadius: '4px',\r\n                  fontSize: '1rem',\r\n                  cursor: loading ? 'not-allowed' : 'pointer',\r\n                  opacity: loading ? '0.65' : '1'\r\n                }}\r\n                disabled={loading}\r\n              >\r\n                {loading ? 'Loading...' : 'Get Data'}\r\n              </button>\r\n            </form>\r\n\r\n            {/* Error message display */}\r\n            {error && (\r\n              <div style={{ \r\n                backgroundColor: isDarkMode ? 'rgba(248, 113, 113, 0.1)' : 'rgba(239, 68, 68, 0.1)', \r\n                color: colors.dangerText,\r\n                borderRadius: '4px',\r\n                padding: '0.75rem 1rem',\r\n                marginBottom: '1rem'\r\n              }}>\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            {/* Container for Chart and Latest Data (Flex Row) */}\r\n            {marketData && marketData.data && marketData.data.length > 0 ? (\r\n              <div style={{\r\n                display: 'flex', // Arrange children (chart and data) in a row\r\n                width: '100%' // Ensure this container takes full width of parent\r\n              }}>\r\n                {/* Chart Container (80%) */}\r\n                <div style={{\r\n                  width: '80%', \r\n                  flex: '0 0 80%', \r\n                }}>\r\n                  <Line data={chartData} options={chartOptions} />\r\n                </div>\r\n\r\n                {/* Latest Data Column (20%) */}\r\n                {selectedDateData && (\r\n                  <div style={{\r\n                    width: '20%', \r\n                    flex: '0 0 20%', \r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    gap: '0.5rem',\r\n                    padding: '0 0 0 1rem', // Add padding on the left to separate from chart\r\n                    height: '100%', // Maximize height\r\n                  }}>\r\n                    {/* Latest Data Header */}\r\n                    <h3 style={{\r\n                      margin: '0 0 0.5rem 0',\r\n                      fontSize: '1rem',\r\n                      fontWeight: '600',\r\n                      color: colors.text\r\n                    }}>Latest Data ({selectedDateData.date})</h3>\r\n\r\n                    {/* Price Change Display - Now dynamic based on selected date */}\r\n                    {selectedDateData && marketData && marketData.data && (\r\n                      (() => {\r\n                        const dailyChange = calculateDailyChange(selectedDateData, marketData.data);\r\n                        if (!dailyChange) return null;\r\n                        return (\r\n                          <div \r\n                            key={'daily-change-' + selectedDateData.date} // Unique key based on date to ensure re-render\r\n                            style={{\r\n                            textAlign: 'center',\r\n                            marginBottom: '1rem', // Keep some margin below the change\r\n                          }}>\r\n                            <span style={{\r\n                              display: 'inline-block',\r\n                              padding: '0.5rem 1rem',\r\n                              borderRadius: '4px',\r\n                              backgroundColor: dailyChange.isPositive \r\n                                ? (isDarkMode ? 'rgba(74, 222, 128, 0.1)' : 'rgba(34, 197, 94, 0.1)') \r\n                                : (isDarkMode ? 'rgba(248, 113, 113, 0.1)' : 'rgba(239, 68, 68, 0.1)'),\r\n                              color: dailyChange.isPositive ? colors.successText : colors.dangerText,\r\n                              fontWeight: 500\r\n                            }}>\r\n                              {dailyChange.isPositive ? '↑' : '↓'} ${Math.abs(dailyChange.change).toFixed(2)} ({Math.abs(dailyChange.percentChange).toFixed(2)}%)\r\n                            </span>\r\n                          </div>\r\n                        );\r\n                      })()\r\n                    )}\r\n\r\n                    {/* Individual Data Points */}\r\n                    <div style={{ \r\n                      display: 'flex',\r\n                      flexDirection: 'column',\r\n                      gap: '0.5rem',\r\n                      overflowY: 'auto',\r\n                    }}>\r\n                      {/* Open */}\r\n                      <div \r\n                        onClick={() => toggleDatasetVisibility('Open Price')} // Add click handler\r\n                        style={{\r\n                        borderRadius: '4px',\r\n                        backgroundColor: datasetVisibility['Open Price'] ? colors.cardBackground : colors.border, // Indicator: change background/border\r\n                        border: `1px solid ${datasetVisibility['Open Price'] ? colors.border : colors.mutedText}`, // Indicator: change border color\r\n                        padding: '0.4rem 0.6rem',\r\n                        textAlign: 'center',\r\n                        flex: '0 0 auto',\r\n                        minWidth: 'auto',\r\n                        width: '100%',\r\n                        cursor: 'pointer', // Indicate clickable\r\n                        opacity: datasetVisibility['Open Price'] ? '1' : '0.7', // Indicator: change opacity\r\n                        transition: 'opacity 0.2s ease', // Smooth transition\r\n                      }}>\r\n                        <div style={{ fontSize: '0.75rem', color: colors.text, marginBottom: '0.1rem' }}>Open</div>\r\n                        <div style={{ fontSize: '1rem', fontWeight: 600, color: colors.text }}>${Number(selectedDateData.open).toFixed(2)}</div>\r\n                      </div>\r\n                      {/* Close */}\r\n                      <div \r\n                        onClick={() => toggleDatasetVisibility('Close Price')} // Add click handler\r\n                        style={{\r\n                        borderRadius: '4px',\r\n                        backgroundColor: datasetVisibility['Close Price'] ? colors.cardBackground : colors.border, // Indicator\r\n                        border: `1px solid ${datasetVisibility['Close Price'] ? colors.border : colors.mutedText}`, // Indicator\r\n                        padding: '0.4rem 0.6rem',\r\n                        textAlign: 'center',\r\n                        flex: '0 0 auto',\r\n                        minWidth: 'auto',\r\n                        width: '100%',\r\n                        cursor: 'pointer', // Indicate clickable\r\n                        opacity: datasetVisibility['Close Price'] ? '1' : '0.7', // Indicator\r\n                        transition: 'opacity 0.2s ease', // Smooth transition\r\n                      }}>\r\n                        <div style={{ fontSize: '0.75rem', color: colors.text, marginBottom: '0.1rem' }}>Close</div>\r\n                        <div style={{ fontSize: '1rem', fontWeight: 600, color: colors.text }}>${Number(selectedDateData.close).toFixed(2)}</div>\r\n                      </div>\r\n                      {/* High */}\r\n                      <div \r\n                        onClick={() => toggleDatasetVisibility('High')} // Add click handler\r\n                        style={{\r\n                        borderRadius: '4px',\r\n                        backgroundColor: datasetVisibility['High'] ? colors.cardBackground : colors.border, // Indicator\r\n                        border: `1px solid ${datasetVisibility['High'] ? colors.border : colors.mutedText}`, // Indicator\r\n                        padding: '0.4rem 0.6rem',\r\n                        textAlign: 'center',\r\n                        flex: '0 0 auto',\r\n                        minWidth: 'auto',\r\n                        width: '100%',\r\n                        cursor: 'pointer', // Indicate clickable\r\n                        opacity: datasetVisibility['High'] ? '1' : '0.7', // Indicator\r\n                        transition: 'opacity 0.2s ease', // Smooth transition\r\n                      }}>\r\n                        <div style={{ fontSize: '0.75rem', color: colors.text, marginBottom: '0.1rem' }}>High</div>\r\n                        <div style={{ fontSize: '1rem', fontWeight: 600, color: colors.text }}>${Number(selectedDateData.high).toFixed(2)}</div>\r\n                      </div>\r\n                      {/* Low */}\r\n                      <div \r\n                        onClick={() => toggleDatasetVisibility('Low')} // Add click handler\r\n                        style={{\r\n                        borderRadius: '4px',\r\n                        backgroundColor: datasetVisibility['Low'] ? colors.cardBackground : colors.border, // Indicator\r\n                        border: `1px solid ${datasetVisibility['Low'] ? colors.border : colors.mutedText}`, // Indicator\r\n                        padding: '0.4rem 0.6rem',\r\n                        textAlign: 'center',\r\n                        flex: '0 0 auto',\r\n                        minWidth: 'auto',\r\n                        width: '100%',\r\n                        cursor: 'pointer', // Indicate clickable\r\n                        opacity: datasetVisibility['Low'] ? '1' : '0.7', // Indicator\r\n                        transition: 'opacity 0.2s ease', // Smooth transition\r\n                      }}>\r\n                        <div style={{ fontSize: '0.75rem', color: colors.text, marginBottom: '0.1rem' }}>Low</div>\r\n                        <div style={{ fontSize: '1rem', fontWeight: 600, color: colors.text }}>${Number(selectedDateData.low).toFixed(2)}</div>\r\n                      </div>\r\n                      {/* Volume - Not currently a line on the chart, keep as non-interactive */}\r\n                      <div style={{ \r\n                        borderRadius: '4px',\r\n                        backgroundColor: colors.cardBackground,\r\n                        border: `1px solid ${colors.border}`, // Keep default border\r\n                        padding: '0.4rem 0.6rem',\r\n                        textAlign: 'center',\r\n                        flex: '0 0 auto',\r\n                        minWidth: 'auto',\r\n                        width: '100%',\r\n                        // Removed cursor: 'pointer' and opacity/transition for non-interactive item\r\n                      }}>\r\n                        <div style={{ fontSize: '0.75rem', color: colors.mutedText, marginBottom: '0.1rem' }}>Volume</div>\r\n                        <div style={{ fontSize: '1rem', fontWeight: 600, color: colors.text }}>{Number(selectedDateData.volume).toLocaleString()}</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div style={{ padding: '1rem 0', textAlign: 'center', color: colors.mutedText }}>\r\n                Enter a stock symbol to view market data.\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Analyst Ratings Column (RIGHT) */}\r\n        <div style={{\r\n          borderRadius: '8px',\r\n          overflow: 'hidden',\r\n          backgroundColor: colors.background,\r\n          boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '400px' // Match chart height\r\n        }}>\r\n          <div style={{\r\n            padding: '1rem',\r\n            borderBottom: `1px solid ${colors.border}`,\r\n            backgroundColor: colors.cardHeaderBackground\r\n          }}>\r\n            <h3 style={{\r\n              margin: '0 0 0 0',\r\n              fontSize: '1.25rem',\r\n              fontWeight: '600',\r\n              color: colors.text\r\n            }}>Analyst Ratings</h3>\r\n          </div>\r\n\r\n          <div style={{ \r\n            padding: '1rem',\r\n            overflowY: 'auto', // Enable scrolling\r\n            flex: '1' // Take remaining space\r\n          }}>\r\n            {newsLoading ? (\r\n              <p style={{ color: colors.mutedText }}>Loading analyst ratings...</p>\r\n            ) : newsError ? (\r\n              <p style={{ color: colors.dangerText }}>{newsError}</p>\r\n            ) : (\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                {analystRatings.map(rating => (\r\n                  <div \r\n                    key={rating.id}\r\n                    style={{\r\n                      padding: '0.75rem',\r\n                      borderRadius: '8px',\r\n                      backgroundColor: colors.cardBackground,\r\n                      border: `1px solid ${colors.border}`,\r\n                      boxShadow: isDarkMode ? '0 1px 2px rgba(0,0,0,0.2)' : '0 1px 2px rgba(0,0,0,0.05)'\r\n                    }}\r\n                  >\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      alignItems: 'flex-start', \r\n                      justifyContent: 'space-between',\r\n                      marginBottom: '0.5rem'\r\n                    }}>\r\n                      <span style={{ \r\n                        backgroundColor: colors.primary, \r\n                        color: colors.buttonText,\r\n                        padding: '0.25rem 0.5rem',\r\n                        borderRadius: '4px',\r\n                        fontSize: '0.75rem',\r\n                        fontWeight: '600',\r\n                      }}>\r\n                        {rating.stock}\r\n                      </span>\r\n                      <span style={{ \r\n                        color: colors.mutedText,\r\n                        fontSize: '0.75rem'\r\n                      }}>\r\n                        {formatDate(rating.date)}\r\n                      </span>\r\n                    </div>\r\n                    <p style={{ margin: '0.5rem 0 0 0', fontSize: '0.85rem' }}>\r\n                      {rating.headline}\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Live News Feed */}\r\n      <LiveFeed />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}