{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\StockSentimentAnalysis\\\\frontend\\\\src\\\\components\\\\StockChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport { useTheme } from './ui/ThemeProvider';\n\n// Register ChartJS components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\nconst StockChart = () => {\n  _s();\n  const [symbol, setSymbol] = useState('');\n  const [marketData, setMarketData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    theme\n  } = useTheme();\n\n  // New state for selected data point\n  const [selectedDateData, setSelectedDateData] = useState(null);\n\n  // New state to manage dataset visibility\n  const [datasetVisibility, setDatasetVisibility] = useState({\n    'Close Price': true,\n    'Open Price': true,\n    'High': false,\n    // Initially hidden\n    'Low': false // Initially hidden\n    // Volume is not a line dataset in this chart, so not included here for toggling\n  });\n\n  // Popular stocks for quick selection\n  const popularStocks = [{\n    symbol: 'AAPL',\n    name: 'Apple'\n  }, {\n    symbol: 'MSFT',\n    name: 'Microsoft'\n  }, {\n    symbol: 'GOOGL',\n    name: 'Google'\n  }, {\n    symbol: 'AMZN',\n    name: 'Amazon'\n  }, {\n    symbol: 'TSLA',\n    name: 'Tesla'\n  }];\n  const [popularStockDetails, setPopularStockDetails] = useState([]);\n  const [popularStocksLoading, setPopularStocksLoading] = useState(false);\n  const [popularStocksError, setPopularStocksError] = useState(null);\n\n  // Determine if using dark mode\n  const isDarkMode = theme === 'dark' || theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches;\n\n  // Theme-based colors\n  const colors = {\n    text: isDarkMode ? '#e4e4e7' : '#212529',\n    mutedText: isDarkMode ? '#a1a1aa' : '#6c757d',\n    background: isDarkMode ? '#18181b' : '#fff',\n    cardBackground: isDarkMode ? '#1a1a1a' : '#fff',\n    cardHeaderBackground: isDarkMode ? '#1a1a1a' : '#f8f9fa',\n    border: isDarkMode ? '#3f3f46' : '#e9ecef',\n    primary: '#007bff',\n    primaryDark: '#0056b3',\n    buttonText: '#fff',\n    dangerText: isDarkMode ? '#f87171' : '#dc3545',\n    successText: isDarkMode ? '#4ade80' : '#198754',\n    chartClose: '#28a745',\n    chartOpen: '#007bff',\n    chartHigh: '#ffc107',\n    chartLow: '#dc3545'\n  };\n  useEffect(() => {\n    const fetchPopularStockDetails = async () => {\n      setPopularStocksLoading(true);\n      setPopularStocksError(null);\n      const detailsPromises = popularStocks.map(async stock => {\n        try {\n          const response = await axios.get(`/api/stock-data/${stock.symbol.toUpperCase()}`);\n          if (response.data && response.data.data && response.data.data.length > 0) {\n            const stockData = response.data.data;\n            const latestEntry = stockData[stockData.length - 1];\n            const currentPrice = parseFloat(latestEntry.close);\n            let change = null;\n            let percentChange = null;\n            let isPositive = null;\n            if (stockData.length > 1) {\n              const previousEntry = stockData[stockData.length - 2];\n              const previousClose = parseFloat(previousEntry.close);\n              if (previousClose !== 0) {\n                change = currentPrice - previousClose;\n                percentChange = change / previousClose * 100;\n              }\n            } else if (stockData.length === 1) {\n              const openPrice = parseFloat(latestEntry.open);\n              if (latestEntry.open !== undefined && openPrice !== 0) {\n                change = currentPrice - openPrice;\n                percentChange = change / openPrice * 100;\n              }\n            }\n            if (change !== null) {\n              isPositive = change >= 0;\n            }\n            return {\n              ...stock,\n              currentPrice,\n              change,\n              percentChange,\n              isPositive,\n              error: false\n            };\n          } else {\n            return {\n              ...stock,\n              currentPrice: null,\n              change: null,\n              percentChange: null,\n              error: 'No data returned'\n            };\n          }\n        } catch (err) {\n          console.error(`Failed to fetch data for ${stock.symbol}`, err);\n          return {\n            ...stock,\n            currentPrice: null,\n            change: null,\n            percentChange: null,\n            error: true\n          };\n        }\n      });\n      const results = await Promise.all(detailsPromises);\n      setPopularStockDetails(results);\n      setPopularStocksLoading(false);\n    };\n    fetchPopularStockDetails();\n  }, []); // `popularStocks` is stable, so run once on mount.\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!symbol.trim()) {\n      setError('Please enter a stock symbol');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`/api/stock-data/${symbol.toUpperCase()}`);\n      setMarketData(response.data);\n      // Initialize selected data to the latest data point\n      if (response.data && response.data.data && response.data.data.length > 0) {\n        setSelectedDateData(response.data.data[response.data.data.length - 1]);\n      } else {\n        setSelectedDateData(null);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error fetching stock data:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to fetch stock data');\n      setMarketData(null);\n      setSelectedDateData(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const chartData = marketData ? {\n    labels: marketData.data.map(item => item.date),\n    datasets: [{\n      label: 'Close Price',\n      data: marketData.data.map(item => item.close),\n      borderColor: colors.chartClose,\n      backgroundColor: 'rgba(40, 167, 69, 0.1)',\n      borderWidth: 0.5,\n      tension: 0.1,\n      pointRadius: 0,\n      hidden: !datasetVisibility['Close Price'] // Link visibility to state\n    }, {\n      label: 'Open Price',\n      data: marketData.data.map(item => item.open),\n      borderColor: colors.chartOpen,\n      backgroundColor: 'rgba(0, 123, 255, 0.1)',\n      borderWidth: 0.5,\n      tension: 0.1,\n      pointRadius: 0,\n      hidden: !datasetVisibility['Open Price'] // Link visibility to state\n    }, {\n      label: 'High',\n      data: marketData.data.map(item => item.high),\n      borderColor: colors.chartHigh,\n      backgroundColor: 'rgba(255, 193, 7, 0.1)',\n      borderWidth: 0.5,\n      tension: 0.1,\n      hidden: !datasetVisibility['High'],\n      // Link visibility to state\n      pointRadius: 0\n    }, {\n      label: 'Low',\n      data: marketData.data.map(item => item.low),\n      borderColor: colors.chartLow,\n      backgroundColor: 'rgba(220, 53, 69, 0.1)',\n      borderWidth: 0.5,\n      tension: 0.1,\n      hidden: !datasetVisibility['Low'],\n      // Link visibility to state\n      pointRadius: 0\n    }\n    // Volume is not a line dataset in this chart\n    ]\n  } : null;\n  const chartOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: colors.text\n        },\n        // Disable default legend click behavior\n        onClick: e => e.stopPropagation() // Stop the event from triggering default Chart.js toggle\n      },\n      title: {\n        display: true,\n        text: marketData ? `${marketData.symbol} Price History` : 'Stock Price History',\n        color: colors.text\n      },\n      tooltip: {\n        callbacks: {\n          label: function (context) {\n            const label = context.dataset.label || '';\n            const value = context.parsed.y || 0;\n            return `${label}: $${value.toFixed(2)}`;\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        title: {\n          display: true,\n          text: 'Price ($)',\n          color: colors.text\n        },\n        ticks: {\n          callback: function (value) {\n            return '$' + value.toFixed(2);\n          },\n          color: colors.text\n        },\n        grid: {\n          color: colors.border\n        }\n      },\n      x: {\n        title: {\n          display: true,\n          text: 'Date',\n          color: colors.text\n        },\n        ticks: {\n          color: colors.text\n        },\n        grid: {\n          color: colors.border\n        }\n      }\n    },\n    onClick: (event, elements) => {\n      if (elements.length > 0) {\n        const dataIndex = elements[0].index;\n        const datasetIndex = elements[0].datasetIndex;\n        // We are interested in the data from the 'Close Price' dataset (datasetIndex 0) for selecting the date\n        if (marketData && marketData.data && dataIndex >= 0 && dataIndex < marketData.data.length) {\n          setSelectedDateData(marketData.data[dataIndex]);\n        }\n      }\n    }\n  };\n\n  // Helper function to calculate price change for a specific date relative to the previous day\n  const calculateDailyChange = (selectedData, allData) => {\n    if (!selectedData || !allData || allData.length < 2) return null; // Need at least 2 data points to calculate a change\n\n    const selectedIndex = allData.findIndex(item => item.date === selectedData.date);\n    if (selectedIndex <= 0) return null; // Cannot calculate change if it's the first day or data not found\n\n    const previousDayData = allData[selectedIndex - 1];\n    const currentPrice = parseFloat(selectedData.close);\n    const previousClose = parseFloat(previousDayData.close);\n    if (previousClose === 0) return null; // Avoid division by zero\n\n    const change = currentPrice - previousClose;\n    const percentChange = change / previousClose * 100;\n    const isPositive = change >= 0;\n    return {\n      change,\n      percentChange,\n      isPositive\n    };\n  };\n\n  // Function to toggle dataset visibility by label\n  const toggleDatasetVisibility = datasetLabel => {\n    setDatasetVisibility(prevState => ({\n      ...prevState,\n      [datasetLabel]: !prevState[datasetLabel]\n    }));\n  };\n  const handleQuickSelect = stockSymbol => {\n    setSymbol(stockSymbol);\n    // Submit the form programmatically\n    handleSubmitWithSymbol(stockSymbol);\n  };\n  const handleSubmitWithSymbol = async stockSymbol => {\n    if (!stockSymbol.trim()) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`/api/stock-data/${stockSymbol.toUpperCase()}`);\n      setMarketData(response.data);\n      // Initialize selected data to the latest data point\n      if (response.data && response.data.data && response.data.data.length > 0) {\n        setSelectedDateData(response.data.data[response.data.data.length - 1]);\n      } else {\n        setSelectedDateData(null);\n      }\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Error fetching stock data:', err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to fetch stock data');\n      setMarketData(null);\n      setSelectedDateData(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n      color: colors.text,\n      backgroundColor: 'transparent'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        borderRadius: '8px',\n        boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n        overflow: 'hidden',\n        marginBottom: '1rem',\n        backgroundColor: colors.background\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          borderBottom: `1px solid ${colors.border}`,\n          backgroundColor: colors.cardHeaderBackground\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 0 0',\n            fontSize: '1.5rem',\n            fontWeight: '600',\n            color: colors.text\n          },\n          children: \"Popular Stocks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0',\n            fontSize: '0.875rem',\n            color: colors.mutedText\n          },\n          children: \"Quick select or view summary data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          backgroundColor: colors.cardBackground\n        },\n        children: [popularStocksLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: colors.mutedText\n          },\n          children: \"Loading popular stock summaries...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 36\n        }, this), popularStocksError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: colors.dangerText\n          },\n          children: popularStocksError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 34\n        }, this), !popularStocksLoading && !popularStocksError && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fill, minmax(180px, 1fr))',\n            gap: '1rem'\n          },\n          children: popularStockDetails.map(detail => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleQuickSelect(detail.symbol),\n            disabled: loading // Disable if main chart is loading\n            ,\n            style: {\n              padding: '1rem',\n              border: `1px solid ${colors.border}`,\n              borderRadius: '8px',\n              backgroundColor: colors.cardBackground,\n              textAlign: 'left',\n              cursor: loading ? 'not-allowed' : 'pointer',\n              opacity: loading ? '0.65' : '1',\n              boxShadow: isDarkMode ? '0 2px 4px rgba(0,0,0,0.25)' : '0 2px 4px rgba(0,0,0,0.1)',\n              transition: 'transform 0.2s ease, box-shadow 0.2s ease',\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'space-between',\n              minHeight: '100px' // Ensure cards have a consistent minimum height\n            },\n            onMouseOver: e => {\n              if (!loading) {\n                e.currentTarget.style.transform = 'translateY(-3px)';\n                e.currentTarget.style.boxShadow = isDarkMode ? '0 5px 10px rgba(0,0,0,0.35)' : '0 5px 10px rgba(0,0,0,0.15)';\n              }\n            },\n            onMouseOut: e => {\n              e.currentTarget.style.transform = 'none';\n              e.currentTarget.style.boxShadow = isDarkMode ? '0 2px 4px rgba(0,0,0,0.25)' : '0 2px 4px rgba(0,0,0,0.1)';\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.8rem',\n                  color: colors.mutedText,\n                  marginBottom: '0.25rem'\n                },\n                children: detail.symbol\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1rem',\n                  fontWeight: '600',\n                  color: colors.text,\n                  marginBottom: '0.35rem',\n                  whiteSpace: 'nowrap',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis'\n                },\n                children: detail.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 19\n            }, this), detail.error === true && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8rem',\n                color: colors.dangerText,\n                marginTop: 'auto'\n              },\n              children: \"Error loading data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 45\n            }, this), typeof detail.error === 'string' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8rem',\n                color: colors.mutedText,\n                marginTop: 'auto'\n              },\n              children: detail.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 56\n            }, this), !detail.error && detail.currentPrice !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 'auto'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1.1rem',\n                  fontWeight: 'bold',\n                  color: colors.text,\n                  marginBottom: '0.25rem'\n                },\n                children: [\"$\", detail.currentPrice.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 23\n              }, this), detail.change !== null && detail.percentChange !== null && detail.isPositive !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.8rem',\n                  fontWeight: 500,\n                  color: detail.isPositive ? colors.successText : colors.dangerText\n                },\n                children: [detail.isPositive ? '▲' : '▼', \" \", Math.abs(detail.change).toFixed(2), \" (\", Math.abs(detail.percentChange).toFixed(2), \"%)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.8rem',\n                  color: colors.mutedText\n                },\n                children: \"N/A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 21\n            }, this), !detail.error && detail.currentPrice === null && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8rem',\n                color: colors.mutedText,\n                marginTop: 'auto'\n              },\n              children: \"Data unavailable\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 70\n            }, this)]\n          }, detail.symbol, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        borderRadius: '8px',\n        boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n        overflow: 'hidden',\n        marginBottom: '1rem',\n        backgroundColor: colors.background\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          borderBottom: `1px solid ${colors.border}`,\n          backgroundColor: colors.cardHeaderBackground\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: '0 0 0 0',\n            fontSize: '1.5rem',\n            fontWeight: '600',\n            color: colors.text\n          },\n          children: \"Stock Market Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0',\n            fontSize: '0.875rem',\n            color: colors.mutedText\n          },\n          children: \"Enter a symbol to view historical market data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          backgroundColor: colors.cardBackground\n          // Removed flex and gap from here, children will stack naturally\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          style: {\n            display: 'flex',\n            gap: '0.5rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter stock symbol (e.g., AAPL)\",\n            value: symbol,\n            onChange: e => setSymbol(e.target.value),\n            style: {\n              flex: '1',\n              padding: '0.5rem 0.75rem',\n              fontSize: '1rem',\n              borderRadius: '4px',\n              border: `1px solid ${colors.border}`,\n              outline: 'none',\n              backgroundColor: isDarkMode ? '#3f3f46' : '#fff',\n              color: colors.text\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '0.5rem 1rem',\n              backgroundColor: loading ? isDarkMode ? '#52525b' : '#6c757d' : colors.primary,\n              color: colors.buttonText,\n              border: 'none',\n              borderRadius: '4px',\n              fontSize: '1rem',\n              cursor: loading ? 'not-allowed' : 'pointer',\n              opacity: loading ? '0.65' : '1'\n            },\n            disabled: loading,\n            children: loading ? 'Loading...' : 'Get Data'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: isDarkMode ? 'rgba(248, 113, 113, 0.1)' : 'rgba(239, 68, 68, 0.1)',\n            color: colors.dangerText,\n            borderRadius: '4px',\n            padding: '0.75rem 1rem',\n            marginBottom: '1rem'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 13\n        }, this), marketData && marketData.data && marketData.data.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            // Arrange children (chart and data) in a row\n            width: '100%' // Ensure this container takes full width of parent\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '80%',\n              flex: '0 0 80%'\n            },\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: chartData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this), selectedDateData && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '20%',\n              flex: '0 0 20%',\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '0.5rem',\n              padding: '0 0 0 1rem',\n              // Add padding on the left to separate from chart\n              height: '100%' // Maximize height\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: '0 0 0.5rem 0',\n                fontSize: '1rem',\n                fontWeight: '600',\n                color: colors.text\n              },\n              children: [\"Latest Data (\", selectedDateData.date, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 19\n            }, this), selectedDateData && marketData && marketData.data && (() => {\n              const dailyChange = calculateDailyChange(selectedDateData, marketData.data);\n              if (!dailyChange) return null;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                // Unique key based on date to ensure re-render\n                style: {\n                  textAlign: 'center',\n                  marginBottom: '1rem' // Keep some margin below the change\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    display: 'inline-block',\n                    padding: '0.5rem 1rem',\n                    borderRadius: '4px',\n                    backgroundColor: dailyChange.isPositive ? isDarkMode ? 'rgba(74, 222, 128, 0.1)' : 'rgba(34, 197, 94, 0.1)' : isDarkMode ? 'rgba(248, 113, 113, 0.1)' : 'rgba(239, 68, 68, 0.1)',\n                    color: dailyChange.isPositive ? colors.successText : colors.dangerText,\n                    fontWeight: 500\n                  },\n                  children: [dailyChange.isPositive ? '↑' : '↓', \" $\", Math.abs(dailyChange.change).toFixed(2), \" (\", Math.abs(dailyChange.percentChange).toFixed(2), \"%)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 581,\n                  columnNumber: 27\n                }, this)\n              }, 'daily-change-' + selectedDateData.date, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 25\n              }, this);\n            })(), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '0.5rem',\n                overflowY: 'auto'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => toggleDatasetVisibility('Open Price') // Add click handler\n                ,\n                style: {\n                  borderRadius: '4px',\n                  backgroundColor: datasetVisibility['Open Price'] ? colors.cardBackground : colors.border,\n                  // Indicator: change background/border\n                  border: `1px solid ${datasetVisibility['Open Price'] ? colors.border : colors.mutedText}`,\n                  // Indicator: change border color\n                  padding: '0.4rem 0.6rem',\n                  textAlign: 'center',\n                  flex: '0 0 auto',\n                  minWidth: 'auto',\n                  width: '100%',\n                  cursor: 'pointer',\n                  // Indicate clickable\n                  opacity: datasetVisibility['Open Price'] ? '1' : '0.7',\n                  // Indicator: change opacity\n                  transition: 'opacity 0.2s ease' // Smooth transition\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.75rem',\n                    color: datasetVisibility['Open Price'] ? colors.text : colors.mutedText,\n                    marginBottom: '0.1rem'\n                  },\n                  children: \"Open\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '1rem',\n                    fontWeight: 600,\n                    color: datasetVisibility['Open Price'] ? colors.text : colors.mutedText\n                  },\n                  children: [\"$\", Number(selectedDateData.open).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => toggleDatasetVisibility('Close Price') // Add click handler\n                ,\n                style: {\n                  borderRadius: '4px',\n                  backgroundColor: datasetVisibility['Close Price'] ? colors.cardBackground : colors.border,\n                  // Indicator\n                  border: `1px solid ${datasetVisibility['Close Price'] ? colors.border : colors.mutedText}`,\n                  // Indicator\n                  padding: '0.4rem 0.6rem',\n                  textAlign: 'center',\n                  flex: '0 0 auto',\n                  minWidth: 'auto',\n                  width: '100%',\n                  cursor: 'pointer',\n                  // Indicate clickable\n                  opacity: datasetVisibility['Close Price'] ? '1' : '0.7',\n                  // Indicator\n                  transition: 'opacity 0.2s ease' // Smooth transition\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.75rem',\n                    color: datasetVisibility['Close Price'] ? colors.text : colors.mutedText,\n                    marginBottom: '0.1rem'\n                  },\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '1rem',\n                    fontWeight: 600,\n                    color: datasetVisibility['Close Price'] ? colors.text : colors.mutedText\n                  },\n                  children: [\"$\", Number(selectedDateData.close).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => toggleDatasetVisibility('High') // Add click handler\n                ,\n                style: {\n                  borderRadius: '4px',\n                  backgroundColor: datasetVisibility['High'] ? colors.cardBackground : colors.border,\n                  // Indicator\n                  border: `1px solid ${datasetVisibility['High'] ? colors.border : colors.mutedText}`,\n                  // Indicator\n                  padding: '0.4rem 0.6rem',\n                  textAlign: 'center',\n                  flex: '0 0 auto',\n                  minWidth: 'auto',\n                  width: '100%',\n                  cursor: 'pointer',\n                  // Indicate clickable\n                  opacity: datasetVisibility['High'] ? '1' : '0.7',\n                  // Indicator\n                  transition: 'opacity 0.2s ease' // Smooth transition\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.75rem',\n                    color: datasetVisibility['High'] ? colors.text : colors.mutedText,\n                    marginBottom: '0.1rem'\n                  },\n                  children: \"High\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '1rem',\n                    fontWeight: 600,\n                    color: datasetVisibility['High'] ? colors.text : colors.mutedText\n                  },\n                  children: [\"$\", Number(selectedDateData.high).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => toggleDatasetVisibility('Low') // Add click handler\n                ,\n                style: {\n                  borderRadius: '4px',\n                  backgroundColor: datasetVisibility['Low'] ? colors.cardBackground : colors.border,\n                  // Indicator\n                  border: `1px solid ${datasetVisibility['Low'] ? colors.border : colors.mutedText}`,\n                  // Indicator\n                  padding: '0.4rem 0.6rem',\n                  textAlign: 'center',\n                  flex: '0 0 auto',\n                  minWidth: 'auto',\n                  width: '100%',\n                  cursor: 'pointer',\n                  // Indicate clickable\n                  opacity: datasetVisibility['Low'] ? '1' : '0.7',\n                  // Indicator\n                  transition: 'opacity 0.2s ease' // Smooth transition\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.75rem',\n                    color: datasetVisibility['Low'] ? colors.text : colors.mutedText,\n                    marginBottom: '0.1rem'\n                  },\n                  children: \"Low\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '1rem',\n                    fontWeight: 600,\n                    color: datasetVisibility['Low'] ? colors.text : colors.mutedText\n                  },\n                  children: [\"$\", Number(selectedDateData.low).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 679,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  borderRadius: '4px',\n                  backgroundColor: colors.cardBackground,\n                  border: `1px solid ${colors.border}`,\n                  // Keep default border\n                  padding: '0.4rem 0.6rem',\n                  textAlign: 'center',\n                  flex: '0 0 auto',\n                  minWidth: 'auto',\n                  width: '100%'\n                  // Removed cursor: 'pointer' and opacity/transition for non-interactive item\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.75rem',\n                    color: colors.mutedText,\n                    marginBottom: '0.1rem'\n                  },\n                  children: \"Volume\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '1rem',\n                    fontWeight: 600,\n                    color: colors.text\n                  },\n                  children: Number(selectedDateData.volume).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 694,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 5\n  }, this);\n};\n_s(StockChart, \"zTwV3WC3MssUdmVRqtauFZvhIDk=\", false, function () {\n  return [useTheme];\n});\n_c = StockChart;\nexport default StockChart;\nvar _c;\n$RefreshReg$(_c, \"StockChart\");","map":{"version":3,"names":["React","useState","useEffect","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Line","useTheme","jsxDEV","_jsxDEV","register","StockChart","_s","symbol","setSymbol","marketData","setMarketData","loading","setLoading","error","setError","theme","selectedDateData","setSelectedDateData","datasetVisibility","setDatasetVisibility","popularStocks","name","popularStockDetails","setPopularStockDetails","popularStocksLoading","setPopularStocksLoading","popularStocksError","setPopularStocksError","isDarkMode","window","matchMedia","matches","colors","text","mutedText","background","cardBackground","cardHeaderBackground","border","primary","primaryDark","buttonText","dangerText","successText","chartClose","chartOpen","chartHigh","chartLow","fetchPopularStockDetails","detailsPromises","map","stock","response","get","toUpperCase","data","length","stockData","latestEntry","currentPrice","parseFloat","close","change","percentChange","isPositive","previousEntry","previousClose","openPrice","open","undefined","err","console","results","Promise","all","handleSubmit","e","preventDefault","trim","_err$response","_err$response$data","chartData","labels","item","date","datasets","label","borderColor","backgroundColor","borderWidth","tension","pointRadius","hidden","high","low","chartOptions","responsive","plugins","legend","position","color","onClick","stopPropagation","title","display","tooltip","callbacks","context","dataset","value","parsed","y","toFixed","scales","ticks","callback","grid","x","event","elements","dataIndex","index","datasetIndex","calculateDailyChange","selectedData","allData","selectedIndex","findIndex","previousDayData","toggleDatasetVisibility","datasetLabel","prevState","handleQuickSelect","stockSymbol","handleSubmitWithSymbol","_err$response2","_err$response2$data","style","padding","fontFamily","children","borderRadius","boxShadow","overflow","marginBottom","borderBottom","margin","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","gridTemplateColumns","gap","detail","disabled","textAlign","cursor","opacity","transition","flexDirection","justifyContent","minHeight","onMouseOver","currentTarget","transform","onMouseOut","whiteSpace","textOverflow","marginTop","Math","abs","onSubmit","type","placeholder","onChange","target","flex","outline","width","options","height","dailyChange","overflowY","minWidth","Number","volume","toLocaleString","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/StockSentimentAnalysis/frontend/src/components/StockChart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { useTheme } from './ui/ThemeProvider';\r\n\r\n// Register ChartJS components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nconst StockChart = () => {\r\n  const [symbol, setSymbol] = useState('');\r\n  const [marketData, setMarketData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const { theme } = useTheme();\r\n  \r\n  // New state for selected data point\r\n  const [selectedDateData, setSelectedDateData] = useState(null);\r\n  \r\n  // New state to manage dataset visibility\r\n  const [datasetVisibility, setDatasetVisibility] = useState({\r\n    'Close Price': true,\r\n    'Open Price': true,\r\n    'High': false, // Initially hidden\r\n    'Low': false,  // Initially hidden\r\n    // Volume is not a line dataset in this chart, so not included here for toggling\r\n  });\r\n  \r\n  // Popular stocks for quick selection\r\n  const popularStocks = [\r\n    { symbol: 'AAPL', name: 'Apple' },\r\n    { symbol: 'MSFT', name: 'Microsoft' },\r\n    { symbol: 'GOOGL', name: 'Google' },\r\n    { symbol: 'AMZN', name: 'Amazon' },\r\n    { symbol: 'TSLA', name: 'Tesla' },\r\n  ];\r\n\r\n  const [popularStockDetails, setPopularStockDetails] = useState([]);\r\n  const [popularStocksLoading, setPopularStocksLoading] = useState(false);\r\n  const [popularStocksError, setPopularStocksError] = useState(null);\r\n  \r\n  // Determine if using dark mode\r\n  const isDarkMode = theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches);\r\n  \r\n  // Theme-based colors\r\n  const colors = {\r\n    text: isDarkMode ? '#e4e4e7' : '#212529',\r\n    mutedText: isDarkMode ? '#a1a1aa' : '#6c757d',\r\n    background: isDarkMode ? '#18181b' : '#fff',\r\n    cardBackground: isDarkMode ? '#1a1a1a' : '#fff',\r\n    cardHeaderBackground: isDarkMode ? '#1a1a1a' : '#f8f9fa',\r\n    border: isDarkMode ? '#3f3f46' : '#e9ecef',\r\n    primary: '#007bff',\r\n    primaryDark: '#0056b3',\r\n    buttonText: '#fff',\r\n    dangerText: isDarkMode ? '#f87171' : '#dc3545',\r\n    successText: isDarkMode ? '#4ade80' : '#198754',\r\n    chartClose: '#28a745',\r\n    chartOpen: '#007bff',\r\n    chartHigh: '#ffc107',\r\n    chartLow: '#dc3545',\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchPopularStockDetails = async () => {\r\n      setPopularStocksLoading(true);\r\n      setPopularStocksError(null);\r\n      const detailsPromises = popularStocks.map(async (stock) => {\r\n        try {\r\n          const response = await axios.get(`/api/stock-data/${stock.symbol.toUpperCase()}`);\r\n          if (response.data && response.data.data && response.data.data.length > 0) {\r\n            const stockData = response.data.data;\r\n            const latestEntry = stockData[stockData.length - 1];\r\n            const currentPrice = parseFloat(latestEntry.close);\r\n            let change = null;\r\n            let percentChange = null;\r\n            let isPositive = null;\r\n\r\n            if (stockData.length > 1) {\r\n              const previousEntry = stockData[stockData.length - 2];\r\n              const previousClose = parseFloat(previousEntry.close);\r\n              if (previousClose !== 0) {\r\n                change = currentPrice - previousClose;\r\n                percentChange = (change / previousClose) * 100;\r\n              }\r\n            } else if (stockData.length === 1) {\r\n              const openPrice = parseFloat(latestEntry.open);\r\n              if (latestEntry.open !== undefined && openPrice !== 0) {\r\n                change = currentPrice - openPrice;\r\n                percentChange = (change / openPrice) * 100;\r\n              }\r\n            }\r\n            \r\n            if (change !== null) {\r\n              isPositive = change >= 0;\r\n            }\r\n\r\n            return {\r\n              ...stock,\r\n              currentPrice,\r\n              change,\r\n              percentChange,\r\n              isPositive,\r\n              error: false,\r\n            };\r\n          } else {\r\n            return { ...stock, currentPrice: null, change: null, percentChange: null, error: 'No data returned' };\r\n          }\r\n        } catch (err) {\r\n          console.error(`Failed to fetch data for ${stock.symbol}`, err);\r\n          return { ...stock, currentPrice: null, change: null, percentChange: null, error: true };\r\n        }\r\n      });\r\n      \r\n      const results = await Promise.all(detailsPromises);\r\n      setPopularStockDetails(results);\r\n      setPopularStocksLoading(false);\r\n    };\r\n\r\n    fetchPopularStockDetails();\r\n  }, []); // `popularStocks` is stable, so run once on mount.\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!symbol.trim()) {\r\n      setError('Please enter a stock symbol');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.get(`/api/stock-data/${symbol.toUpperCase()}`);\r\n      setMarketData(response.data);\r\n      // Initialize selected data to the latest data point\r\n      if (response.data && response.data.data && response.data.data.length > 0) {\r\n        setSelectedDateData(response.data.data[response.data.data.length - 1]);\r\n      } else {\r\n        setSelectedDateData(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching stock data:', err);\r\n      setError(err.response?.data?.error || 'Failed to fetch stock data');\r\n      setMarketData(null);\r\n      setSelectedDateData(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const chartData = marketData ? {\r\n    labels: marketData.data.map(item => item.date),\r\n    datasets: [\r\n      {\r\n        label: 'Close Price',\r\n        data: marketData.data.map(item => item.close),\r\n        borderColor: colors.chartClose,\r\n        backgroundColor: 'rgba(40, 167, 69, 0.1)',\r\n        borderWidth: 0.5,\r\n        tension: 0.1,\r\n        pointRadius: 0,\r\n        hidden: !datasetVisibility['Close Price'], // Link visibility to state\r\n      },\r\n      {\r\n        label: 'Open Price',\r\n        data: marketData.data.map(item => item.open),\r\n        borderColor: colors.chartOpen,\r\n        backgroundColor: 'rgba(0, 123, 255, 0.1)',\r\n        borderWidth: 0.5,\r\n        tension: 0.1,\r\n        pointRadius: 0,\r\n        hidden: !datasetVisibility['Open Price'], // Link visibility to state\r\n      },\r\n      {\r\n        label: 'High',\r\n        data: marketData.data.map(item => item.high),\r\n        borderColor: colors.chartHigh,\r\n        backgroundColor: 'rgba(255, 193, 7, 0.1)',\r\n        borderWidth: 0.5,\r\n        tension: 0.1,\r\n        hidden: !datasetVisibility['High'], // Link visibility to state\r\n        pointRadius: 0,\r\n      },\r\n      {\r\n        label: 'Low',\r\n        data: marketData.data.map(item => item.low),\r\n        borderColor: colors.chartLow,\r\n        backgroundColor: 'rgba(220, 53, 69, 0.1)',\r\n        borderWidth: 0.5,\r\n        tension: 0.1,\r\n        hidden: !datasetVisibility['Low'], // Link visibility to state\r\n        pointRadius: 0,\r\n      }\r\n      // Volume is not a line dataset in this chart\r\n    ],\r\n  } : null;\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n        labels: {\r\n          color: colors.text\r\n        },\r\n        // Disable default legend click behavior\r\n        onClick: (e) => e.stopPropagation() // Stop the event from triggering default Chart.js toggle\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: marketData ? `${marketData.symbol} Price History` : 'Stock Price History',\r\n        color: colors.text\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: function(context) {\r\n            const label = context.dataset.label || '';\r\n            const value = context.parsed.y || 0;\r\n            return `${label}: $${value.toFixed(2)}`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      y: {\r\n        title: {\r\n          display: true,\r\n          text: 'Price ($)',\r\n          color: colors.text\r\n        },\r\n        ticks: {\r\n          callback: function(value) {\r\n            return '$' + value.toFixed(2);\r\n          },\r\n          color: colors.text\r\n        },\r\n        grid: {\r\n          color: colors.border\r\n        }\r\n      },\r\n      x: {\r\n        title: {\r\n          display: true,\r\n          text: 'Date',\r\n          color: colors.text\r\n        },\r\n        ticks: {\r\n          color: colors.text\r\n        },\r\n        grid: {\r\n          color: colors.border\r\n        }\r\n      }\r\n    },\r\n    onClick: (event, elements) => {\r\n      if (elements.length > 0) {\r\n        const dataIndex = elements[0].index;\r\n        const datasetIndex = elements[0].datasetIndex;\r\n        // We are interested in the data from the 'Close Price' dataset (datasetIndex 0) for selecting the date\r\n        if (marketData && marketData.data && dataIndex >= 0 && dataIndex < marketData.data.length) {\r\n           setSelectedDateData(marketData.data[dataIndex]);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Helper function to calculate price change for a specific date relative to the previous day\r\n  const calculateDailyChange = (selectedData, allData) => {\r\n    if (!selectedData || !allData || allData.length < 2) return null; // Need at least 2 data points to calculate a change\r\n\r\n    const selectedIndex = allData.findIndex(item => item.date === selectedData.date);\r\n\r\n    if (selectedIndex <= 0) return null; // Cannot calculate change if it's the first day or data not found\r\n\r\n    const previousDayData = allData[selectedIndex - 1];\r\n    const currentPrice = parseFloat(selectedData.close);\r\n    const previousClose = parseFloat(previousDayData.close);\r\n\r\n    if (previousClose === 0) return null; // Avoid division by zero\r\n\r\n    const change = currentPrice - previousClose;\r\n    const percentChange = (change / previousClose) * 100;\r\n    const isPositive = change >= 0;\r\n\r\n    return {\r\n      change,\r\n      percentChange,\r\n      isPositive,\r\n    };\r\n  };\r\n\r\n  // Function to toggle dataset visibility by label\r\n  const toggleDatasetVisibility = (datasetLabel) => {\r\n    setDatasetVisibility(prevState => ({\r\n      ...prevState,\r\n      [datasetLabel]: !prevState[datasetLabel]\r\n    }));\r\n  };\r\n\r\n  const handleQuickSelect = (stockSymbol) => {\r\n    setSymbol(stockSymbol);\r\n    // Submit the form programmatically\r\n    handleSubmitWithSymbol(stockSymbol);\r\n  };\r\n\r\n  const handleSubmitWithSymbol = async (stockSymbol) => {\r\n    if (!stockSymbol.trim()) return;\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.get(`/api/stock-data/${stockSymbol.toUpperCase()}`);\r\n      setMarketData(response.data);\r\n      // Initialize selected data to the latest data point\r\n      if (response.data && response.data.data && response.data.data.length > 0) {\r\n        setSelectedDateData(response.data.data[response.data.data.length - 1]);\r\n      } else {\r\n        setSelectedDateData(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching stock data:', err);\r\n      setError(err.response?.data?.error || 'Failed to fetch stock data');\r\n      setMarketData(null);\r\n      setSelectedDateData(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      padding: '20px',\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      color: colors.text,\r\n      backgroundColor: 'transparent'\r\n    }}>\r\n      {/* Popular Stocks Card */}\r\n      <div style={{\r\n        borderRadius: '8px',\r\n        boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\r\n        overflow: 'hidden',\r\n        marginBottom: '1rem',\r\n        backgroundColor: colors.background\r\n      }}>\r\n        <div style={{\r\n          padding: '1rem',\r\n          borderBottom: `1px solid ${colors.border}`,\r\n          backgroundColor: colors.cardHeaderBackground\r\n        }}>\r\n          <h3 style={{\r\n            margin: '0 0 0 0',\r\n            fontSize: '1.5rem',\r\n            fontWeight: '600',\r\n            color: colors.text\r\n          }}>Popular Stocks</h3>\r\n          <p style={{\r\n            margin: '0',\r\n            fontSize: '0.875rem',\r\n            color: colors.mutedText\r\n          }}>Quick select or view summary data</p>\r\n        </div>\r\n        <div style={{ padding: '1rem', backgroundColor: colors.cardBackground }}>\r\n          {popularStocksLoading && <p style={{color: colors.mutedText}}>Loading popular stock summaries...</p>}\r\n          {popularStocksError && <p style={{color: colors.dangerText}}>{popularStocksError}</p>}\r\n          {!popularStocksLoading && !popularStocksError && (\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fill, minmax(180px, 1fr))',\r\n              gap: '1rem'\r\n            }}>\r\n              {popularStockDetails.map(detail => (\r\n                <button\r\n                  key={detail.symbol}\r\n                  onClick={() => handleQuickSelect(detail.symbol)}\r\n                  disabled={loading} // Disable if main chart is loading\r\n                  style={{\r\n                    padding: '1rem',\r\n                    border: `1px solid ${colors.border}`,\r\n                    borderRadius: '8px',\r\n                    backgroundColor: colors.cardBackground,\r\n                    textAlign: 'left',\r\n                    cursor: loading ? 'not-allowed' : 'pointer',\r\n                    opacity: loading ? '0.65' : '1',\r\n                    boxShadow: isDarkMode ? '0 2px 4px rgba(0,0,0,0.25)' : '0 2px 4px rgba(0,0,0,0.1)',\r\n                    transition: 'transform 0.2s ease, box-shadow 0.2s ease',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    justifyContent: 'space-between',\r\n                    minHeight: '100px', // Ensure cards have a consistent minimum height\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    if (!loading) {\r\n                      e.currentTarget.style.transform = 'translateY(-3px)';\r\n                      e.currentTarget.style.boxShadow = isDarkMode ? '0 5px 10px rgba(0,0,0,0.35)' : '0 5px 10px rgba(0,0,0,0.15)';\r\n                    }\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    e.currentTarget.style.transform = 'none';\r\n                    e.currentTarget.style.boxShadow = isDarkMode ? '0 2px 4px rgba(0,0,0,0.25)' : '0 2px 4px rgba(0,0,0,0.1)';\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <div style={{ fontSize: '0.8rem', color: colors.mutedText, marginBottom: '0.25rem' }}>{detail.symbol}</div>\r\n                    <div style={{ fontSize: '1rem', fontWeight: '600', color: colors.text, marginBottom: '0.35rem',  whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\r\n                      {detail.name}\r\n                    </div>\r\n                  </div>\r\n                  {detail.error === true && <div style={{ fontSize: '0.8rem', color: colors.dangerText, marginTop: 'auto' }}>Error loading data</div>}\r\n                  {typeof detail.error === 'string' && <div style={{ fontSize: '0.8rem', color: colors.mutedText, marginTop: 'auto' }}>{detail.error}</div>}\r\n\r\n                  {!detail.error && detail.currentPrice !== null && (\r\n                    <div style={{marginTop: 'auto'}}>\r\n                      <div style={{ fontSize: '1.1rem', fontWeight: 'bold', color: colors.text, marginBottom: '0.25rem' }}>\r\n                        ${detail.currentPrice.toFixed(2)}\r\n                      </div>\r\n                      {detail.change !== null && detail.percentChange !== null && detail.isPositive !== null ? (\r\n                        <div style={{ fontSize: '0.8rem', fontWeight: 500, color: detail.isPositive ? colors.successText : colors.dangerText }}>\r\n                          {detail.isPositive ? '▲' : '▼'} {Math.abs(detail.change).toFixed(2)} ({Math.abs(detail.percentChange).toFixed(2)}%)\r\n                        </div>\r\n                      ) : (\r\n                        <div style={{ fontSize: '0.8rem', color: colors.mutedText }}>N/A</div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                   {!detail.error && detail.currentPrice === null && <div style={{ fontSize: '0.8rem', color: colors.mutedText, marginTop: 'auto' }}>Data unavailable</div>}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Stock Data Card */}\r\n      <div style={{\r\n        borderRadius: '8px',\r\n        boxShadow: isDarkMode ? '0 1px 3px rgba(0,0,0,0.3)' : '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\r\n        overflow: 'hidden',\r\n        marginBottom: '1rem',\r\n        backgroundColor: colors.background\r\n      }}>\r\n        <div style={{\r\n          padding: '1rem',\r\n          borderBottom: `1px solid ${colors.border}`,\r\n          backgroundColor: colors.cardHeaderBackground\r\n        }}>\r\n          <h2 style={{\r\n            margin: '0 0 0 0',\r\n            fontSize: '1.5rem',\r\n            fontWeight: '600',\r\n            color: colors.text\r\n          }}>Stock Market Data</h2>\r\n          <p style={{\r\n            margin: '0',\r\n            fontSize: '0.875rem',\r\n            color: colors.mutedText\r\n          }}>Enter a symbol to view historical market data</p>\r\n        </div>\r\n        {/* Main Card Body */}\r\n        <div style={{\r\n          padding: '1rem',\r\n          backgroundColor: colors.cardBackground,\r\n          // Removed flex and gap from here, children will stack naturally\r\n        }}>\r\n          {/* Search form */}\r\n          <form onSubmit={handleSubmit} style={{\r\n            display: 'flex',\r\n            gap: '0.5rem',\r\n            marginBottom: '1rem'\r\n          }}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter stock symbol (e.g., AAPL)\"\r\n              value={symbol}\r\n              onChange={(e) => setSymbol(e.target.value)}\r\n              style={{ \r\n                flex: '1',\r\n                padding: '0.5rem 0.75rem',\r\n                fontSize: '1rem',\r\n                borderRadius: '4px',\r\n                border: `1px solid ${colors.border}`,\r\n                outline: 'none',\r\n                backgroundColor: isDarkMode ? '#3f3f46' : '#fff',\r\n                color: colors.text\r\n              }}\r\n            />\r\n            <button \r\n              type=\"submit\" \r\n              style={{ \r\n                padding: '0.5rem 1rem',\r\n                backgroundColor: loading ? (isDarkMode ? '#52525b' : '#6c757d') : colors.primary,\r\n                color: colors.buttonText,\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                fontSize: '1rem',\r\n                cursor: loading ? 'not-allowed' : 'pointer',\r\n                opacity: loading ? '0.65' : '1'\r\n              }}\r\n              disabled={loading}\r\n            >\r\n              {loading ? 'Loading...' : 'Get Data'}\r\n            </button>\r\n          </form>\r\n\r\n          {/* Error message display */}\r\n          {error && (\r\n            <div style={{ \r\n              backgroundColor: isDarkMode ? 'rgba(248, 113, 113, 0.1)' : 'rgba(239, 68, 68, 0.1)', \r\n              color: colors.dangerText,\r\n              borderRadius: '4px',\r\n              padding: '0.75rem 1rem',\r\n              marginBottom: '1rem'\r\n            }}>\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Container for Chart and Latest Data (Flex Row) */}\r\n          {marketData && marketData.data && marketData.data.length > 0 && (\r\n            <div style={{\r\n              display: 'flex', // Arrange children (chart and data) in a row\r\n              width: '100%' // Ensure this container takes full width of parent\r\n            }}>\r\n              {/* Chart Container (80%) */}\r\n              <div style={{\r\n                width: '80%', \r\n                flex: '0 0 80%', \r\n              }}>\r\n                <Line data={chartData} options={chartOptions} />\r\n              </div>\r\n\r\n              {/* Latest Data Column (20%) */}\r\n              {selectedDateData && (\r\n                <div style={{\r\n                  width: '20%', \r\n                  flex: '0 0 20%', \r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  gap: '0.5rem',\r\n                  padding: '0 0 0 1rem', // Add padding on the left to separate from chart\r\n                  height: '100%', // Maximize height\r\n                }}>\r\n                  {/* Latest Data Header */}\r\n                  <h3 style={{\r\n                    margin: '0 0 0.5rem 0',\r\n                    fontSize: '1rem',\r\n                    fontWeight: '600',\r\n                    color: colors.text\r\n                  }}>Latest Data ({selectedDateData.date})</h3>\r\n\r\n                  {/* Price Change Display - Now dynamic based on selected date */}\r\n                  {selectedDateData && marketData && marketData.data && (\r\n                    (() => {\r\n                      const dailyChange = calculateDailyChange(selectedDateData, marketData.data);\r\n                      if (!dailyChange) return null;\r\n                      return (\r\n                        <div \r\n                          key={'daily-change-' + selectedDateData.date} // Unique key based on date to ensure re-render\r\n                          style={{\r\n                          textAlign: 'center',\r\n                          marginBottom: '1rem', // Keep some margin below the change\r\n                        }}>\r\n                          <span style={{\r\n                            display: 'inline-block',\r\n                            padding: '0.5rem 1rem',\r\n                            borderRadius: '4px',\r\n                            backgroundColor: dailyChange.isPositive \r\n                              ? (isDarkMode ? 'rgba(74, 222, 128, 0.1)' : 'rgba(34, 197, 94, 0.1)') \r\n                              : (isDarkMode ? 'rgba(248, 113, 113, 0.1)' : 'rgba(239, 68, 68, 0.1)'),\r\n                            color: dailyChange.isPositive ? colors.successText : colors.dangerText,\r\n                            fontWeight: 500\r\n                          }}>\r\n                            {dailyChange.isPositive ? '↑' : '↓'} ${Math.abs(dailyChange.change).toFixed(2)} ({Math.abs(dailyChange.percentChange).toFixed(2)}%)\r\n                          </span>\r\n                        </div>\r\n                      );\r\n                    })()\r\n                  )}\r\n\r\n                  {/* Individual Data Points - Made clickable and added indicators */}\r\n                  <div style={{ \r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    gap: '0.5rem',\r\n                    overflowY: 'auto',\r\n                  }}>\r\n                    {/* Open */}\r\n                    <div \r\n                      onClick={() => toggleDatasetVisibility('Open Price')} // Add click handler\r\n                      style={{\r\n                      borderRadius: '4px',\r\n                      backgroundColor: datasetVisibility['Open Price'] ? colors.cardBackground : colors.border, // Indicator: change background/border\r\n                      border: `1px solid ${datasetVisibility['Open Price'] ? colors.border : colors.mutedText}`, // Indicator: change border color\r\n                      padding: '0.4rem 0.6rem',\r\n                      textAlign: 'center',\r\n                      flex: '0 0 auto',\r\n                      minWidth: 'auto',\r\n                      width: '100%',\r\n                      cursor: 'pointer', // Indicate clickable\r\n                      opacity: datasetVisibility['Open Price'] ? '1' : '0.7', // Indicator: change opacity\r\n                      transition: 'opacity 0.2s ease', // Smooth transition\r\n                    }}>\r\n                      <div style={{ fontSize: '0.75rem', color: datasetVisibility['Open Price'] ? colors.text : colors.mutedText, marginBottom: '0.1rem' }}>Open</div>{/* Indicator: change text color */}\r\n                      <div style={{ fontSize: '1rem', fontWeight: 600, color: datasetVisibility['Open Price'] ? colors.text : colors.mutedText }}>${Number(selectedDateData.open).toFixed(2)}</div>{/* Indicator: change value color */}\r\n                    </div>\r\n                    {/* Close */}\r\n                    <div \r\n                      onClick={() => toggleDatasetVisibility('Close Price')} // Add click handler\r\n                      style={{\r\n                      borderRadius: '4px',\r\n                      backgroundColor: datasetVisibility['Close Price'] ? colors.cardBackground : colors.border, // Indicator\r\n                      border: `1px solid ${datasetVisibility['Close Price'] ? colors.border : colors.mutedText}`, // Indicator\r\n                      padding: '0.4rem 0.6rem',\r\n                      textAlign: 'center',\r\n                      flex: '0 0 auto',\r\n                      minWidth: 'auto',\r\n                      width: '100%',\r\n                      cursor: 'pointer', // Indicate clickable\r\n                      opacity: datasetVisibility['Close Price'] ? '1' : '0.7', // Indicator\r\n                      transition: 'opacity 0.2s ease', // Smooth transition\r\n                    }}>\r\n                      <div style={{ fontSize: '0.75rem', color: datasetVisibility['Close Price'] ? colors.text : colors.mutedText, marginBottom: '0.1rem' }}>Close</div>{/* Indicator */}\r\n                      <div style={{ fontSize: '1rem', fontWeight: 600, color: datasetVisibility['Close Price'] ? colors.text : colors.mutedText }}>${Number(selectedDateData.close).toFixed(2)}</div>{/* Indicator */}\r\n                    </div>\r\n                    {/* High */}\r\n                    <div \r\n                      onClick={() => toggleDatasetVisibility('High')} // Add click handler\r\n                      style={{\r\n                      borderRadius: '4px',\r\n                      backgroundColor: datasetVisibility['High'] ? colors.cardBackground : colors.border, // Indicator\r\n                      border: `1px solid ${datasetVisibility['High'] ? colors.border : colors.mutedText}`, // Indicator\r\n                      padding: '0.4rem 0.6rem',\r\n                      textAlign: 'center',\r\n                      flex: '0 0 auto',\r\n                      minWidth: 'auto',\r\n                      width: '100%',\r\n                      cursor: 'pointer', // Indicate clickable\r\n                      opacity: datasetVisibility['High'] ? '1' : '0.7', // Indicator\r\n                      transition: 'opacity 0.2s ease', // Smooth transition\r\n                    }}>\r\n                      <div style={{ fontSize: '0.75rem', color: datasetVisibility['High'] ? colors.text : colors.mutedText, marginBottom: '0.1rem' }}>High</div>{/* Indicator */}\r\n                      <div style={{ fontSize: '1rem', fontWeight: 600, color: datasetVisibility['High'] ? colors.text : colors.mutedText }}>${Number(selectedDateData.high).toFixed(2)}</div>{/* Indicator */}\r\n                    </div>\r\n                    {/* Low */}\r\n                    <div \r\n                      onClick={() => toggleDatasetVisibility('Low')} // Add click handler\r\n                      style={{\r\n                      borderRadius: '4px',\r\n                      backgroundColor: datasetVisibility['Low'] ? colors.cardBackground : colors.border, // Indicator\r\n                      border: `1px solid ${datasetVisibility['Low'] ? colors.border : colors.mutedText}`, // Indicator\r\n                      padding: '0.4rem 0.6rem',\r\n                      textAlign: 'center',\r\n                      flex: '0 0 auto',\r\n                      minWidth: 'auto',\r\n                      width: '100%',\r\n                      cursor: 'pointer', // Indicate clickable\r\n                      opacity: datasetVisibility['Low'] ? '1' : '0.7', // Indicator\r\n                      transition: 'opacity 0.2s ease', // Smooth transition\r\n                    }}>\r\n                      <div style={{ fontSize: '0.75rem', color: datasetVisibility['Low'] ? colors.text : colors.mutedText, marginBottom: '0.1rem' }}>Low</div>{/* Indicator */}\r\n                      <div style={{ fontSize: '1rem', fontWeight: 600, color: datasetVisibility['Low'] ? colors.text : colors.mutedText }}>${Number(selectedDateData.low).toFixed(2)}</div>{/* Indicator */}\r\n                    </div>\r\n                    {/* Volume - Not currently a line on the chart, keep as non-interactive */}\r\n                    <div style={{ \r\n                      borderRadius: '4px',\r\n                      backgroundColor: colors.cardBackground,\r\n                      border: `1px solid ${colors.border}`, // Keep default border\r\n                      padding: '0.4rem 0.6rem',\r\n                      textAlign: 'center',\r\n                      flex: '0 0 auto',\r\n                      minWidth: 'auto',\r\n                      width: '100%',\r\n                      // Removed cursor: 'pointer' and opacity/transition for non-interactive item\r\n                    }}>\r\n                      <div style={{ fontSize: '0.75rem', color: colors.mutedText, marginBottom: '0.1rem' }}>Volume</div>\r\n                      <div style={{ fontSize: '1rem', fontWeight: 600, color: colors.text }}>{Number(selectedDateData.volume).toLocaleString()}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}